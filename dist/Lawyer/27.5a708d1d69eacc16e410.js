(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{B8hh:function(t,e,o){"use strict";o.r(e),o.d(e,"ChatModule",function(){return D});var a=o("3Pt+"),i=o("ofXK"),n=o("tyNb");class r{constructor(){this.groupId=0,this.createdBy="",this.createdByName="",this.addedDate=new Date,this.listseen=[],this.plainMessage="",this.htmlMessage="",this.id=0,this.Id=0,this.listseen=[]}}var s=o("quSY"),c=o("fXoL"),l=o("tk/3"),b=o("2Vo4"),d=o("lJxs"),p=o("AytR");let h=(()=>{class t{constructor(t){this.http=t,this.userSubject=new b.a({}),this.user=this.userSubject.asObservable()}get userValue(){return this.userSubject.value}getAll(){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,e={headers:(new l.d).set("Authorization","Bearer "+t)};return this.http.get(p.a.apiUrl+"/Chats",e).pipe(Object(d.a)(t=>t.data))}getAllgroups(){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,e={headers:(new l.d).set("Authorization","Bearer "+t)};return this.http.get(p.a.apiUrl+"/Chats/GetAllGroups",e).pipe(Object(d.a)(t=>t.data))}getAllChatsByGroupId(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.get(`${p.a.apiUrl}/Chats/GetChatByGroupId/${t}`,o).pipe(Object(d.a)(t=>t.data))}GetAllGroupMembers(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.get(`${p.a.apiUrl}/Chats/GetAllGroupMembers/${t}`,o).pipe(Object(d.a)(t=>t.data))}getById(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.get(`${p.a.apiUrl}/Chats/${t}`,o).pipe(Object(d.a)(t=>t.data))}create(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.post(p.a.apiUrl+"/Chats/Save",t,o).pipe(Object(d.a)(t=>(localStorage.setItem("Save",JSON.stringify(t)),this.userSubject.next(t),t)))}createGroup(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","*/*")};return this.http.post(p.a.apiUrl+"/Chats/SaveGroup",t,o).pipe(Object(d.a)(t=>(localStorage.setItem("SaveGroup",JSON.stringify(t)),t)))}AddGroupMember(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e).set("Content-Type","application/json").set("Accept","*/*")};return this.http.post(p.a.apiUrl+"/Chats/AddGroupMember",t,o).pipe(Object(d.a)(t=>(localStorage.setItem("SaveGroupMember",JSON.stringify(t)),t)))}Update(t,e){var o=JSON.parse(localStorage.getItem("token")||"{}").accessToken,a={headers:(new l.d).set("Authorization","Bearer "+o).set("Content-Type","application/json").set("Accept","*/*")};return this.http.put(p.a.apiUrl+"/Chats/Update/"+t,JSON.stringify(e),a).pipe(Object(d.a)(t=>t.data))}Delete(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.delete(p.a.apiUrl+"/Chats/Delete/"+t,o).pipe(Object(d.a)(t=>t.data))}DeleteGroup(t){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,o={headers:(new l.d).set("Authorization","Bearer "+e)};return this.http.delete(p.a.apiUrl+"/Chats/DeleteGroup/"+t,o).pipe(Object(d.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(l.b))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=o("5eHb"),g=o("IHM0");class m{constructor(){this.id=0,this.createdByName="",this.name="",this.type="",this.userId="",this.groupId=0,this.createdByName=""}}function f(t,e){if(1&t){const t=c.Tb();c.Rb(0,"ul",10),c.Rb(1,"li",11),c.cc("click",function(){c.zc(t);const o=e.$implicit;return c.ec().onGroupSelection(o.groupId)}),c.Rb(2,"button",12),c.Rb(3,"span"),c.Jc(4),c.Qb(),c.Jc(5),c.Qb(),c.Rb(6,"span",13),c.Rb(7,"button",14),c.cc("click",function(){c.zc(t);const o=e.$implicit;return c.ec().DeleteGroup(o)}),c.Mb(8,"i",15),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit;c.xb(4),c.Kc(t.groupId),c.xb(1),c.Lc(" ",t.name," ")}}let v=(()=>{class t{constructor(t,e,o){this.chatservice=t,this.toastr=e,this.messageService=o,this.messages=[],this.listgroup=[],this.objgroup=new m,this.subscription=new s.a,this.notifyGroup=new c.n}ngOnInit(){this.getData()}onGroupSelection(t){this.notifyGroup.emit(t),this.messageService.sendActiveGroupId(t)}SaveGroup(t){0==this.objgroup.id&&(this.listgroup.push(t),this.chatservice.createGroup(t).subscribe(t=>{this.getData(),console.log("Group Data Saved")},t=>{console.log("Group Data could not be saved"),console.log(t)}),this.objgroup=new m)}getData(){this.chatservice.getAllgroups().subscribe(t=>{this.listgroup=t,console.log(t)},t=>console.log(t))}DeleteGroup(t){1==confirm(" Do you want to delete ?")&&this.chatservice.DeleteGroup(t.id).subscribe(t=>{this.getData(),console.log("Group delete successfully!")},t=>{this.getData()})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(h),c.Kb(u.b),c.Kb(g.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-grouplist"]],outputs:{notifyGroup:"notifyGroup"},decls:14,vars:2,consts:[[1,"form-group"],[1,"input-group","form-group"],["type","text","placeholder","Create Group","ngModel","","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["data-toggle","tooltip","data-placement","left","title","Add Group",1,"btn","btn-primary",3,"click"],[1,"fa","fa-users"],[1,"table-responsive","panel","panel-success",2,"border-color","#3C8DBC"],["cellspacing","0",1,"table","table-striped","table-bordered"],[1,"text-center",2,"background-color","#3c8dbc","color","white"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[3,"click"],["type","button",1,"btn","btn-primary"],[2,"padding-left","20px"],["Class","status-button btn btn-sm btn-danger","data-toggle","tooltip","data-placement","left","title","Delete Group",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"input",2),c.cc("ngModelChange",function(t){return e.objgroup.name=t}),c.Qb(),c.Rb(3,"div",3),c.Rb(4,"button",4),c.cc("click",function(){return e.SaveGroup(e.objgroup)}),c.Mb(5,"i",5),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(6,"div",6),c.Rb(7,"table",7),c.Rb(8,"thead"),c.Rb(9,"tr"),c.Rb(10,"th",8),c.Jc(11,"Groups"),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"tbody"),c.Hc(13,f,9,2,"ul",9),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.xb(2),c.lc("ngModel",e.objgroup.name),c.xb(11),c.lc("ngForOf",e.listgroup))},directives:[a.a,a.i,a.l,a.o,i.m],styles:["tbody[_ngcontent-%COMP%]{display:block;height:550px}.group[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0}.group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px;text-align:center}"]}),t})();class y{constructor(){this.MemberEmail="",this.GroupId=0,this.id=0}}var M=o("PSD3"),C=o.n(M);const O=["closebutton"],R=["scrollMe"];function w(t,e){if(1&t&&(c.Rb(0,"div",34),c.Rb(1,"div",35),c.Rb(2,"a",36),c.Mb(3,"img",37),c.Mb(4,"i"),c.Rb(5,"span",38),c.Jc(6),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"div",39),c.Rb(8,"div",40),c.Rb(9,"p"),c.Jc(10),c.Rb(11,"span",41),c.Mb(12,"i",42),c.Jc(13),c.fc(14,"date"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.ec().$implicit,e=c.ec();c.xb(3),c.lc("src",e.profileImage,c.Bc),c.xb(3),c.Kc(t.createdByName),c.xb(4),c.Lc(" ",t.plainMessage," "),c.xb(3),c.Lc(" ",c.hc(14,4,t.addedDate,"shortTime"),"")}}function x(t,e){if(1&t&&(c.Rb(0,"div",43),c.Rb(1,"div",35),c.Rb(2,"a",44),c.Mb(3,"img",37),c.Mb(4,"i"),c.Rb(5,"span",45),c.Jc(6),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"div",39),c.Rb(8,"div",40),c.Rb(9,"p"),c.Jc(10),c.Rb(11,"span",41),c.Mb(12,"i",42),c.Jc(13),c.fc(14,"date"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.ec().$implicit,e=c.ec();c.xb(3),c.lc("src",e.profileImage,c.Bc),c.xb(3),c.Kc(t.createdByName),c.xb(4),c.Lc(" ",t.plainMessage," "),c.xb(3),c.Lc(" ",c.hc(14,4,t.addedDate,"shortTime"),"")}}function Q(t,e){if(1&t&&(c.Rb(0,"ul"),c.Rb(1,"div",29),c.Rb(2,"div",30),c.Rb(3,"div",31),c.Hc(4,w,15,7,"div",32),c.Hc(5,x,15,7,"div",33),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=e.$implicit,o=c.ec();c.xb(4),c.lc("ngIf",o.myUserId===t.createdBy),c.xb(1),c.lc("ngIf",o.myUserId!==t.createdBy)}}function S(t,e){if(1&t&&(c.Rb(0,"span"),c.Jc(1),c.Qb()),2&t){const t=c.ec();c.xb(1),c.Kc(t.objgroupMember.GroupId)}}let I=(()=>{class t{constructor(t,e,o){this.chatservice=t,this.cdref=e,this.messageService=o,this.listgroupMembers=[],this.objgroupMember=new y,this.subscription=new s.a,this.listgroup=[],this.listchildchat=[],this.myUserId="",this.notifySelect=new c.n,this.notifyDelete=new c.n,this.notifyshowedit=new c.n,this.show=!1,this.Toast=C.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",C.a.stopTimer),t.addEventListener("mouseleave",C.a.resumeTimer)}})}ngOnInit(){this.myUserId=JSON.parse(localStorage.getItem("UserId")||"{}"),this.profileImage=JSON.parse(localStorage.getItem("ImagePath")||"{}"),this.subscription=this.messageService.getGroupId().subscribe(t=>{this.groupId=t.groupId,this.objgroupMember.GroupId=this.groupId}),this.scrollToBottom()}ngAfterContentChecked(){this.cdref.detectChanges(),this.scrollToBottom()}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollTop}catch(t){}}ngOnChanges(t){t.listchildchat&&!t.listchildchat.isFirstChange()&&(this.listchildchat=t.listchildchat.currentValue)}onSelect(t){this.notifySelect.emit(t)}onDelete(t){this.notifyDelete.emit(t)}showedit(){this.notifyshowedit.emit()}showModal(){this.show=!this.show}getMembersData(){this.chatservice.GetAllGroupMembers(this.groupId).subscribe(t=>{this.listgroupMembers=t,console.log(t)},t=>console.log(t))}AddGroupMember(t){0==this.objgroupMember.id&&(this.chatservice.AddGroupMember(t).subscribe(t=>{this.getMembersData(),this.Toast.fire({icon:"success",title:"Add Member successfully"}),console.log("GroupMember Data Saved")},t=>{console.log("GroupMember Data could not be saved"),console.log(t)}),this.objgroupMember=new y)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(h),c.Kb(c.h),c.Kb(g.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-list-chat"]],viewQuery:function(t,e){if(1&t&&(c.Nc(O,!0),c.Nc(R,!0)),2&t){let t;c.xc(t=c.dc())&&(e.closebutton=t.first),c.xc(t=c.dc())&&(e.myScrollContainer=t.first)}},inputs:{listchildchat:"listchildchat"},outputs:{notifySelect:"notifySelect",notifyDelete:"notifyDelete",notifyshowedit:"notifyshowedit"},features:[c.vb],decls:42,vars:6,consts:[[1,"table-responsive","panel","panel-success"],["cellspacing","0",1,"table","table-striped","table-bordered"],[1,"text-center",2,"background-color","#3c8dbc","color","white","font-size","15px"],[2,"float","right"],["data-toggle","tooltip","data-placement","left","title","Video Call",1,"btn","btn-primary","btn-md",2,"border-radius","50px"],[1,"fa","fa-video-camera"],["data-toggle","tooltip","data-placement","left","title","Audio Call",1,"btn","btn-primary","btn-md",2,"border-radius","50px"],[1,"fa","fa-phone"],["type","button","data-toggle","modal","data-target","#exampleModal","data-placement","left","title","Add Members",1,"btn","btn-primary","btn-md",2,"border-radius","50px",3,"click"],[1,"fa","fa-user-plus"],[3,"scrollTop"],["scrollMe",""],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal"],["role","document",1,"modal-dialog","modal-md","modal-center"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"form-group","alert","alert-sm","alert-success"],["for","exampleInputEmail1"],[4,"ngIf"],["type","email","name","objgroupMember","id","objgroupMember","autofocus","","autocomplete","off","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["id","chat",1,"panel"],[1,"chats"],["class","chat",4,"ngIf"],["class","chat chat-left",4,"ngIf"],[1,"chat"],[1,"chat-avatar"],["data-toggle","tooltip","href","#/lawyerprofile","data-placement","right","title","","data-original-title","June Lane",1,"avatar","avatar-online"],[1,"img-circle",3,"src"],[1,"UserNameS"],[1,"chat-body"],[1,"chat-content"],[1,"chat-time"],[1,"fa","fa-clock-o","fa-fw"],[1,"chat","chat-left"],["data-toggle","tooltip","href","#","data-placement","left","title","","data-original-title","Edward Fletcher",1,"avatar","avatar-online"],[1,"UserNameR"]],template:function(t,e){if(1&t&&(c.Rb(0,"div",0),c.Rb(1,"table",1),c.Rb(2,"thead"),c.Rb(3,"tr"),c.Rb(4,"th",2),c.Jc(5,"Chat "),c.Rb(6,"span",3),c.Rb(7,"button",4),c.Mb(8,"i",5),c.Qb(),c.Jc(9,"\xa0\xa0 "),c.Rb(10,"button",6),c.Mb(11,"i",7),c.Qb(),c.Jc(12,"\xa0\xa0 "),c.Rb(13,"button",8),c.cc("click",function(){return e.showModal()}),c.Mb(14,"i",9),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(15,"tbody",10,11),c.Hc(17,Q,6,2,"ul",12),c.Qb(),c.Qb(),c.Rb(18,"div",13),c.Rb(19,"div",14),c.Rb(20,"div",15),c.Rb(21,"div",16),c.Rb(22,"h4",17),c.Jc(23,"Add Member"),c.Qb(),c.Rb(24,"button",18),c.cc("click",function(){return e.showModal()}),c.Rb(25,"span",19),c.Jc(26,"\xd7"),c.Qb(),c.Qb(),c.Qb(),c.Rb(27,"div",20),c.Rb(28,"div",21),c.Rb(29,"div",22),c.Rb(30,"label",23),c.Jc(31,"GroupId: "),c.Qb(),c.Hc(32,S,2,1,"span",24),c.Qb(),c.Rb(33,"div",21),c.Rb(34,"label",23),c.Jc(35,"Email address"),c.Qb(),c.Rb(36,"input",25),c.cc("ngModelChange",function(t){return e.objgroupMember.MemberEmail=t}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(37,"div",26),c.Rb(38,"button",27),c.cc("click",function(){return e.showModal()}),c.Jc(39,"Cancel"),c.Qb(),c.Rb(40,"button",28),c.cc("click",function(){return e.AddGroupMember(e.objgroupMember)}),c.Jc(41,"Add"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.yc(16);c.xb(15),c.lc("scrollTop",t.scrollHeight),c.xb(2),c.lc("ngForOf",e.listchildchat),c.xb(1),c.Cb("show",e.show),c.xb(14),c.lc("ngIf",e.groupId),c.xb(4),c.lc("ngModel",e.objgroupMember.MemberEmail)}},directives:[i.m,i.n,a.a,a.i,a.l],pipes:[i.e],styles:['@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap");tbody[_ngcontent-%COMP%]{display:block;height:550px;overflow-y:auto;overflow-x:hidden}.chats[_ngcontent-%COMP%]{padding:5px}.chat-avatar[_ngcontent-%COMP%]{float:right}.chat-body[_ngcontent-%COMP%]{display:block;margin:10px 30px 0 0;overflow:hidden}.chat-body[_ngcontent-%COMP%]:first-child{margin-top:0}.chat-content[_ngcontent-%COMP%]{position:relative;display:block;float:right;max-width:100%;padding:8px 15px;margin:0 20px 10px 0;clear:both;color:#fff;background-color:#62a8ea;border-radius:4px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);font-family:sans-serif;font-weight:600;letter-spacing:.5px}.chat-content[_ngcontent-%COMP%]:before{position:absolute;top:10px;right:-10px;width:0;height:0;content:"";border:5px solid transparent;border-left-color:#62a8ea}.chat-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.chat-content[_ngcontent-%COMP%] + .chat-content[_ngcontent-%COMP%]:before{border-color:transparent}.chat-time[_ngcontent-%COMP%]{display:block;float:right;margin-top:20px;font-size:11px;color:hsla(0,0%,100%,.6)}.UserNameR[_ngcontent-%COMP%], .UserNameS[_ngcontent-%COMP%]{display:block;float:right;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:11px;color:rgba(29,2,2,.6);font-weight:700}.chat-left[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]{float:left}.chat-left[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{margin-right:0;margin-left:30px}.chat-left[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]{float:left;margin:0 0 10px 20px;color:#76838f;background-color:#dfe9ef}.chat-left[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]:before{right:auto;left:-10px;border-right-color:#dfe9ef;border-left-color:transparent}.chat-left[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%] + .chat-content[_ngcontent-%COMP%]:before{border-color:transparent}.chat-left[_ngcontent-%COMP%]   .chat-time[_ngcontent-%COMP%]{color:#a3afb7}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.chat-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px}.avatar[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;white-space:nowrap;border-radius:1000px;vertical-align:bottom}.modal[_ngcontent-%COMP%]{text-align:center;padding:0!important}.modal[_ngcontent-%COMP%]:before{content:"";display:inline-block;height:100%;vertical-align:middle;margin-left:25%}.modal-show[_ngcontent-%COMP%]{height:602px;width:1097.5px}.modal-dialog[_ngcontent-%COMP%]{display:inline-block;text-align:left;vertical-align:middle}.modal-header[_ngcontent-%COMP%]{display:flex}.close[_ngcontent-%COMP%]{margin-left:75%}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:20px;border-bottom-left-radius:1.5em;border-bottom-right-radius:1.5em}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:15px;border-top-left-radius:20px;border-top-right-radius:20px}']}),t})(),k=(()=>{class t{constructor(t,e){this.chatservice=t,this.toastr=e,this.objeditchat=new r,this.notifyCancel=new c.n,this.notifyCreate=new c.n,this.notifyUpdate=new c.n}ngOnInit(){}onSave(){0==this.objeditchat.id?this.notifyCreate.emit(this.objeditchat):this.notifyUpdate.emit(this.objeditchat)}onCancel(){this.objeditchat=new r,this.notifyCancel.emit()}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(h),c.Kb(u.b))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-edit-chat"]],inputs:{objeditchat:"objeditchat"},outputs:{notifyCancel:"notifyCancel",notifyCreate:"notifyCreate",notifyUpdate:"notifyUpdate"},decls:6,vars:1,consts:[[1,"form-group"],[1,"input-group"],["type","text","placeholder","Type a message","autocomplete","off",1,"form-control",2,"border-radius","3px",3,"ngModel","ngModelChange","keydown.enter"],[1,"input-group-btn"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-paper-plane"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"input",2),c.cc("ngModelChange",function(t){return e.objeditchat.plainMessage=t})("keydown.enter",function(){return e.onSave()}),c.Qb(),c.Rb(3,"div",3),c.Rb(4,"button",4),c.cc("click",function(){return e.onSave()}),c.Mb(5,"i",5),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.xb(2),c.lc("ngModel",e.objeditchat.plainMessage))},directives:[a.a,a.i,a.l],styles:[""]}),t})(),G=(()=>{class t{constructor(t,e,o,a,i,n){this.route=t,this.router=e,this.changeDetection=o,this.chatService=a,this.toastr=i,this.messageService=n,this.activeGroupId=0,this.myId="",this.listchat=[],this.objchat=r,this.listgroup=[],this.subscription=new s.a,this.messages=[]}onSelectGroup(t){this.activeGroupId=t,this.getChatData()}getChatData(){this.chatService.getAllChatsByGroupId(this.activeGroupId).subscribe(t=>{this.listchat=t,console.log(t)},t=>console.log(t)),this.objchat=new r}ngOnInit(){this.subscription=this.messageService.getMessage().subscribe(t=>{this.listchat.push(t.data)})}ngOnDestroy(){}onCreate(t){"undefined"!=this.objchat.Id&&0!=this.objchat.Id||(t.groupId=this.activeGroupId,this.chatService.create(t).subscribe(t=>{this.getChatData(),this.toastr.success("Message Sent successfully","Message"),console.log("User Profile Data Saved")},t=>{console.log("User Profile Data could not be saved"),this.toastr.error("Error","User Profile Data Couldn't Save"),console.log(t)}),this.objchat=new r)}onUpdate(t){this.objchat=t}onSelect(t){this.objchat=t}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(n.a),c.Kb(n.h),c.Kb(c.h),c.Kb(h),c.Kb(u.b),c.Kb(g.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-chat-comp"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-md-2"],[1,"card-body"],[3,"notifyGroup"],[1,"col-md-10"],[1,"card-header"],[3,"listchildchat"],[1,"col-md-12"],[3,"objeditchat","notifyCreate"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div"),c.Rb(4,"app-grouplist",3),c.cc("notifyGroup",function(t){return e.onSelectGroup(t)}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(5,"div",4),c.Mb(6,"div",5),c.Rb(7,"div",2),c.Rb(8,"div"),c.Mb(9,"app-list-chat",6),c.Qb(),c.Qb(),c.Rb(10,"div",0),c.Rb(11,"div",7),c.Mb(12,"div",5),c.Rb(13,"div",2),c.Rb(14,"div"),c.Rb(15,"app-edit-chat",8),c.cc("notifyCreate",function(t){return e.onCreate(t)}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.xb(9),c.lc("listchildchat",e.listchat),c.xb(6),c.lc("objeditchat",e.objchat))},directives:[v,I,k],styles:[""]}),t})();const j=[{path:"",component:G}];let P=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(j)],n.j]}),t})();var _=o("QJFE");let D=(()=>{class t{}return t.\u0275mod=c.Ib({type:t,bootstrap:[G]}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[P,_.a,a.e,a.n,i.c]]}),t})()}}]);