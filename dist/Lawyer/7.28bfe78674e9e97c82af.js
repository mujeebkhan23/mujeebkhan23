(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("quSY");class s extends i.a{constructor(e,t){super()}schedule(e,t=0){return this}}class r extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"3UWI":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("D0XW"),s=n("zx2A");class r{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new a(e,this.durationSelector))}}class a extends s.b{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=Object(s.c)(n,new s.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var o=n("PqYM");function l(e,t=i.a){return n=()=>Object(o.a)(e,t),function(e){return e.lift(new r(n))};var n}},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("3N8a");const s=new(n("IjjT").a)(i.a)},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return s});let i=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class s extends i{constructor(e,t=i.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},PqYM:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("HDdC"),s=n("D0XW"),r=n("Y7HM"),a=n("z+Ro");function o(e=0,t,n){let o=-1;return Object(r.a)(t)?o=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=s.a),new i.a(t=>{const i=Object(r.a)(e)?e:+e-n.now();return n.schedule(l,i,{index:0,period:o,subscriber:t})})}function l(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},RQQu:function(e,t,n){"use strict";n.r(t),n.d(t,"EventModule",function(){return Qr});var i=n("3Pt+"),s=n("ofXK"),r=n("tyNb");class a{constructor(){this.calendarId=0,this.id=0,this.eventName="",this.startTime="",this.endTime="",this.description="",this.reminder="",this.repeat="",this.eventType="",this.priority="",this.refrenceNumber=0,this.participant="",this.name="",this.contact="",this.comment="",this.address="",this.data="",this.actions=[]}}var o=n("quSY"),l=n("fXoL"),c=n("tk/3"),d=n("2Vo4"),u=n("lJxs"),h=n("AytR");let p=(()=>{class e{constructor(e){this.http=e,this.userSubject=new d.a({}),this.user=this.userSubject.asObservable()}get userValue(){return this.userSubject.value}getAll(){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,t={headers:(new c.d).set("Authorization","Bearer "+e)};return this.http.get(h.a.apiUrl+"/Calendars",t).pipe(Object(u.a)(e=>e.data))}getAllEvents(){var e=JSON.parse(localStorage.getItem("token")||"{}").accessToken,t={headers:(new c.d).set("Authorization","Bearer "+e)};return this.http.get(h.a.apiUrl+"/Calendars/GetAllEvents",t).pipe(Object(u.a)(e=>e.data))}getAllEventsById(e){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,n={headers:(new c.d).set("Authorization","Bearer "+t)};return this.http.get(`${h.a.apiUrl}/Calendars/EventById/${e}`,n).pipe(Object(u.a)(e=>e.data))}getById(e){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,n={headers:(new c.d).set("Authorization","Bearer "+t)};return this.http.get(`${h.a.apiUrl}/Calendars/${e}`,n).pipe(Object(u.a)(e=>e.data))}create(e){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,n={headers:(new c.d).set("Authorization","Bearer "+t)};return this.http.post(h.a.apiUrl+"/Calendars/SaveEvent",e,n).pipe(Object(u.a)(e=>(localStorage.setItem("Save",JSON.stringify(e)),this.userSubject.next(e),e)))}Update(e,t){var n=JSON.parse(localStorage.getItem("token")||"{}").accessToken,i={headers:(new c.d).set("Authorization","Bearer "+n).set("Content-Type","application/json").set("Accept","*/*")};return this.http.put(h.a.apiUrl+"/Calendars/EventUpdate/"+e,JSON.stringify(t),i).pipe(Object(u.a)(e=>e.data))}EventDelete(e){var t=JSON.parse(localStorage.getItem("token")||"{}").accessToken,n={headers:(new c.d).set("Authorization","Bearer "+t)};return this.http.delete(h.a.apiUrl+"/Calendars/EventDelete/"+e,n).pipe(Object(u.a)(e=>e.data))}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(c.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("5eHb"),g=n("3HTj");function v(e,t){if(1&e){const e=l.Tb();l.Rb(0,"tr"),l.Rb(1,"td",4),l.cc("click",function(){l.zc(e);const n=t.$implicit;return l.ec().onCalendarSelection(n.calendarId)}),l.Jc(2),l.Qb(),l.Qb()}if(2&e){const e=t.$implicit;l.xb(2),l.Lc(" ",e.calendarName," ")}}let f=(()=>{class e{constructor(e){this.eventService=e,this.listCalendar=[],this.notifyCalendar=new l.n}ngOnInit(){this.getData()}onCalendarSelection(e){this.notifyCalendar.emit(e)}getData(){this.eventService.getAll().subscribe(e=>{this.listCalendar=e,console.log(e)},e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(p))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-calendar-list"]],outputs:{notifyCalendar:"notifyCalendar"},decls:10,vars:1,consts:[[1,"table-responsive","panel","panel-success",2,"border-color","darkolivegreen"],["cellspacing","0",1,"table","table-striped","table-bordered"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","calendarList",3,"click"]],template:function(e,t){1&e&&(l.Rb(0,"h3"),l.Jc(1,"Calendar"),l.Qb(),l.Rb(2,"div",0),l.Rb(3,"table",1),l.Rb(4,"thead"),l.Rb(5,"tr"),l.Rb(6,"th",2),l.Jc(7,"Calendar Name"),l.Qb(),l.Qb(),l.Qb(),l.Rb(8,"tbody"),l.Hc(9,v,3,1,"tr",3),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.xb(9),l.lc("ngForOf",t.listCalendar))},directives:[s.m],styles:[".calendarList[_ngcontent-%COMP%]{background-color:#676b6b;color:#fff;font-weight:700;cursor:pointer}.calendarList[_ngcontent-%COMP%]:hover{background-color:#222d32;color:#fff}tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#3c8dbc;color:#fff}"]}),e})();function b(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function y(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function w(e){y(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function D(e,t){y(2,arguments);var n=w(e),i=b(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function E(e,t){y(2,arguments);var n=b(t);return D(e,-n)}function C(e){y(1,arguments);var t=w(e);return t.setHours(0,0,0,0),t}function T(e){y(1,arguments);var t=w(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function k(e,t){y(2,arguments);var n=w(e).getTime(),i=b(t);return new Date(n+i)}var S=36e5;function O(e,t){y(2,arguments);var n=b(t);return k(e,n*S)}function x(e,t){y(2,arguments);var n=w(e),i=w(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function R(e,t){y(2,arguments);var n=C(e),i=C(t);return n.getTime()===i.getTime()}function M(e){y(1,arguments);var t=w(e);return t.setHours(23,59,59,999),t}var j=n("XNiG"),z=function(){return(z=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function A(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function H(e,t){return function(n,i){t(n,i,e)}}function _(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var I=/\s+/,L=new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var s=this.offsetParent(e);n=this.offset(e,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,s=window.pageXOffset-document.documentElement.clientLeft,r={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+s,right:n.right+s};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},e.prototype.positionElements=function(e,t,n,i){var s=n.split("-"),r=s[0],a=void 0===r?"top":r,o=s[1],l=void 0===o?"center":o,c=i?this.offset(e,!1):this.position(e,!1),d=this.getAllStyles(t),u=parseFloat(d.marginTop),h=parseFloat(d.marginBottom),p=parseFloat(d.marginLeft),m=parseFloat(d.marginRight),g=0,v=0;switch(a){case"top":g=c.top-(t.offsetHeight+u+h);break;case"bottom":g=c.top+c.height;break;case"left":v=c.left-(t.offsetWidth+p+m);break;case"right":v=c.left+c.width}switch(l){case"top":g=c.top;break;case"bottom":g=c.top+c.height-t.offsetHeight;break;case"left":v=c.left;break;case"right":v=c.left+c.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?v=c.left+c.width/2-t.offsetWidth/2:g=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(v)+"px, "+Math.round(g)+"px)";var f=t.getBoundingClientRect(),b=document.documentElement,y=window.innerHeight||b.clientHeight,w=window.innerWidth||b.clientWidth;return f.left>=0&&f.top>=0&&f.right<=w&&f.bottom<=y},e}()),B=n("LRne"),F=n("PqYM"),P=n("HDdC"),W=n("D0XW"),Q=n("Y7HM");function Y(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var N=n("1G5W"),$=n("eIep"),V=n("JX91"),X=function(){return(X=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},K=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),s=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,s++)i[s]=r[a];return i},J=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),U=[J.SUNDAY,J.SATURDAY],G=86400;function q(e,t){var n=t.startDate,i=t.excluded,s=t.precision;if(i.length<1)return 0;for(var r=e.getDay,a=e.addDays,o=(0,e.addSeconds)(n,t.seconds-1),l=r(n),c=r(o),d=0,u=n,h=function(){var t=r(u);i.some(function(e){return e===t})&&(d+=function(e,t){var n=t.day,i=t.dayEnd,s=t.startDate,r=t.endDate,a=e.differenceInSeconds,o=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return a((0,e.endOfDay)(s),s)+1;if(n===i)return a(r,o(r))+1}return G}(e,{dayStart:l,dayEnd:c,day:t,precision:s,startDate:n,endDate:o})),u=a(u,1)};u<o;)h();return d}function Z(e,t){var n=t.periodStart,i=t.periodEnd;return t.events.filter(function(t){return function(e,t){var n=t.event,i=t.periodStart,s=t.periodEnd,r=e.isSameSecond,a=n.start,o=n.end||n.start;return a>i&&a<s||o>i&&o<s||a<i&&o>s||!(!r(a,i)&&!r(a,s))||!(!r(o,i)&&!r(o,s))}(e,{event:t,periodStart:n,periodEnd:i})})}function ee(e,t){var n=t.date,i=t.weekendDays,s=void 0===i?U:i,r=e.isSameDay,a=e.getDay,o=(0,e.startOfDay)(new Date),l=a(n);return{date:n,day:l,isPast:n<o,isToday:r(n,o),isFuture:n>o,isWeekend:s.indexOf(l)>-1}}function te(e,t){for(var n=t.excluded,i=void 0===n?[]:n,s=t.weekendDays,r=t.viewStart,a=void 0===r?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):r,o=t.viewEnd,l=void 0===o?e.addDays(a,7):o,c=e.addDays,d=e.getDay,u=[],h=a;h<l;)i.some(function(e){return d(h)===e})||u.push(ee(e,{date:h,weekendDays:s})),h=c(h,1);return u}function ne(e,t){var n=t.events,i=void 0===n?[]:n,s=t.excluded,r=void 0===s?[]:s,a=t.precision,o=void 0===a?"days":a,l=t.absolutePositionedEvents,c=void 0!==l&&l,d=t.viewStart,u=t.viewEnd;d=e.startOfDay(d),u=e.endOfDay(u);var h=e.differenceInSeconds,p=e.differenceInDays,m=function(e,t){for(var n=t.date2,i=t.excluded,s=t.date1,r=0;s<n;)-1===i.indexOf(e.getDay(s))&&r++,s=e.addDays(s,1);return r}(e,{date1:d,date2:u,excluded:r}),g=p(u,d)+1,v=i.filter(function(e){return e.allDay}).map(function(t){var n=function(e,t){var n=t.event,i=t.startOfWeek,s=t.excluded,r=t.precision,a=e.differenceInDays,o=e.startOfDay,l=e.differenceInSeconds;if(n.start<i)return 0;var c=0;switch(r){case"days":c=a(o(n.start),i)*G;break;case"minutes":c=l(n.start,i)}return c-=q(e,{startDate:i,seconds:c,excluded:s,precision:r}),Math.abs(c/G)}(e,{event:t,startOfWeek:d,excluded:r,precision:o});return{event:t,offset:n,span:function(e,t){var n=t.event,i=t.offset,s=t.excluded,r=t.precision,a=t.totalDaysInView,o=e.differenceInSeconds,l=e.addDays,c=e.endOfDay,d=e.differenceInDays,u=G,h=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(r){case"minutes":u=o(n.end,h);break;default:u=d(l(c(n.end),1),h)*G}var p=i*G,m=a*G;return p+u>m&&(u=m-p),(u-=q(e,{startDate:h,seconds:u,excluded:s,precision:r}))/G}(e,{event:t,offset:n,startOfWeekDate:d,excluded:r,precision:o,totalDaysInView:g})}}).filter(function(e){return e.offset<m}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<d,endsAfterWeek:(e.event.end||e.event.start)>u}}).sort(function(e,t){var n=h(e.event.start,t.event.start);return 0===n?h(t.event.end||t.event.start,e.event.end||e.event.start):n}),f=[],b=[];return v.forEach(function(e,t){if(-1===b.indexOf(e)){b.push(e);var n=e.span+e.offset,i=v.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=g&&-1===b.indexOf(e)){var t=e.offset-n;return c||(e.offset=t),n+=e.span+t,b.push(e),!0}}),s=K([e],i),r=s.filter(function(e){return e.event.id}).map(function(e){return e.event.id}).join("-");f.push(X({row:s},r?{id:r}:{}))}}),f}function ie(e,t){var n=t.events,i=t.viewDate,s=t.hourSegments,r=t.hourDuration,a=t.dayStart,o=t.dayEnd,l=t.weekStartsOn,c=t.excluded,d=t.weekendDays,u=t.segmentHeight,h=t.viewStart,p=t.viewEnd,m=t.minimumEventHeight,g=function(e,t){var n=t.viewDate,i=t.hourSegments,s=t.hourDuration,r=t.dayStart,a=t.dayEnd,o=e.setMinutes,l=e.setHours,c=e.startOfDay,d=e.startOfMinute,u=e.endOfDay,h=e.addMinutes,p=e.addDays,m=[],g=o(l(c(n),re(r.hour)),ae(r.minute)),v=o(l(d(u(n)),re(a.hour)),ae(a.minute)),f=(s||60)/i,b=c(n),y=u(n),w=function(e){return e};b.getTimezoneOffset()!==y.getTimezoneOffset()&&(b=p(b,1),g=p(g,1),v=p(v,1),w=function(e){return p(e,-1)});for(var D=s?1440/s:60,E=0;E<D;E++){for(var C=[],T=0;T<i;T++){var k=h(h(g,E*(s||60)),T*f);k>=g&&k<v&&C.push({date:w(k),displayDate:k,isStart:0===T})}C.length>0&&m.push({segments:C})}return m}(e,{viewDate:i,hourSegments:s,hourDuration:r,dayStart:a,dayEnd:o}),v=te(e,{viewDate:i,weekStartsOn:l,excluded:c,weekendDays:d,viewStart:h,viewEnd:p}),f=e.setHours,b=e.setMinutes,y=e.getHours,w=e.getMinutes;return v.map(function(t){var i=function(e,t){var n=t.events,i=t.viewDate,s=t.hourSegments,r=t.dayStart,a=t.dayEnd,o=t.eventWidth,l=t.segmentHeight,c=t.hourDuration,d=t.minimumEventHeight,u=e.setMinutes,h=e.setHours,p=e.startOfDay,m=e.startOfMinute,g=e.endOfDay,v=e.differenceInMinutes,f=u(h(p(i),re(r.hour)),ae(r.minute)),b=u(h(m(g(i)),re(a.hour)),ae(a.minute));b.setSeconds(59,999);var y=[],w=Z(e,{events:n.filter(function(e){return!e.allDay}),periodStart:f,periodEnd:b}),D=w.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,n=e.end||t,i=t<f,r=n>b,a=s*l/(c||60),u=0;if(t>f){var h=t.getTimezoneOffset(),p=f.getTimezoneOffset()-h;u+=v(t,f)+p}u*=a;var m=i?f:t,g=r?b:n,w=m.getTimezoneOffset()-g.getTimezoneOffset(),D=v(g,m)+w;e.end?D*=a:D=l,d&&D<d&&(D=d);for(var E=se(y,u,u+D),C=0;E.some(function(e){return e.left===C});)C+=o;var T={event:e,height:D,width:o,top:u,left:C,startsBeforeDay:i,endsAfterDay:r};return y.push(T),T}),E=Math.max.apply(Math,D.map(function(e){return e.left+e.width}));return{events:D,width:E,allDayEvents:Z(e,{events:n.filter(function(e){return e.allDay}),periodStart:p(f),periodEnd:g(b)}),period:{events:w,start:f,end:b}}}(e,{events:n,viewDate:t.date,hourSegments:s,dayStart:a,dayEnd:o,segmentHeight:u,eventWidth:1,hourDuration:r,minimumEventHeight:m}),l=g.map(function(e){var n=e.segments.map(function(e){var n=b(f(t.date,y(e.date)),w(e.date));return X(X({},e),{date:n})});return X(X({},e),{segments:n})});function c(e,t){var n=Math.max.apply(Math,t.map(function(e){return e.left+1})),i=e.filter(function(e){return e.left>=n}).filter(function(e){return se(t,e.top,e.top+e.height).length>0});return i.length>0?c(e,i):n}var d=i.events.map(function(e){var t=100/c(i.events,se(i.events,e.top,e.top+e.height));return X(X({},e),{left:e.left*t,width:t})});return{hours:l,date:t.date,events:d.map(function(e){var t=se(d.filter(function(t){return t.left>e.left}),e.top,e.top+e.height);return t.length>0?X(X({},e),{width:Math.min.apply(Math,t.map(function(e){return e.left}))-e.left}):e})}})}function se(e,t,n){return e.filter(function(e){var i=e.top,s=e.top+e.height;return t<s&&s<n||t<i&&i<n||i<=t&&n<=s})}function re(e){return Math.max(Math.min(23,e),0)}function ae(e){return Math.max(Math.min(59,e),0)}var oe=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({}),le=n("3N8a");class ce extends le.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var de=n("IjjT");class ue extends de.a{}const he=new ue(ce);var pe=n("7o/Q"),me=n("EY2u");let ge=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(B.a)(this.value);case"E":return e=this.error,new P.a(t=>t.error(e));case"C":return Object(me.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class ve extends pe.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(ve.dispatch,this.delay,new fe(e,this.destination)))}_next(e){this.scheduleMessage(ge.createNext(e))}_error(e){this.scheduleMessage(ge.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(ge.createComplete()),this.unsubscribe()}}class fe{constructor(e,t){this.notification=e,this.destination=t}}var be=n("9ppp"),ye=n("Ylt2");class we extends j.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new De(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let r;if(this.closed)throw new be.a;if(this.isStopped||this.hasError?r=o.a.EMPTY:(this.observers.push(e),r=new ye.a(this,e)),i&&e.add(e=new ve(e,i)),t)for(let a=0;a<s&&!e.closed;a++)e.next(n[a]);else for(let a=0;a<s&&!e.closed;a++)e.next(n[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||he).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let r=0;for(;r<s&&!(e-i[r].time<n);)r++;return s>t&&(r=Math.max(r,s-t)),r>0&&i.splice(0,r),i}}class De{constructor(e,t){this.time=e,this.value=t}}var Ee=n("VRyK"),Ce=n("itXk"),Te=n("xgIS");function ke(e,t){var n,i;return i=t,"function"==typeof(e=void 0===(n=e)?void 0===i?n:i:n)?function(){for(var t=arguments,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=t[s];return!!e.apply(this,i)}:e?function(){return!0}:function(){return!1}}var Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Oe=function(e){return null!=e&&"object"===(void 0===e?"undefined":Se(e))&&1===e.nodeType&&"object"===Se(e.style)&&"object"===Se(e.ownerDocument)};function xe(e,t){if(t=Ae(t,!0),!Oe(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Re(e,t){return-1!==xe(e,t)}function Me(e,t){for(var n=0;n<t.length;n++)Re(e,t[n])||e.push(t[n]);return t}function je(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return Me(e,n=n.map(Ae))}function ze(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return n.map(Ae).reduce(function(t,n){var i=xe(e,n);return-1!==i?t.concat(e.splice(i,1)):t},[])}function Ae(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!Oe(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function He(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var _e,Ie=void 0;"function"!=typeof Object.create?(_e=function(){},Ie=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");_e.prototype=e||{};var n=new _e;return _e.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):Ie=Object.create;var Le=Ie,Be=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Fe(e,t){t=t||{};for(var n=Le(e),i=0;i<Be.length;i++)void 0!==t[Be[i]]&&(n[Be[i]]=t[Be[i]]);return n}function Pe(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var We=["webkit","moz","ms","o"],Qe=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=We.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[We[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-t-n),s=window.setTimeout(function(){return e(t+i)},i);return n=t+i,s}}return window.requestAnimationFrame.bind(window)}(),Ye=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=We.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[We[e]+"CancelAnimationFrame"]||window[We[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function Ne(e,t){void 0===t&&(t={});var n=this,i=4,s=!1;if("object"!=typeof t.margin){var r=t.margin||-1;this.margin={left:r,right:r,top:r,bottom:r}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a,o={},l=function(e,t){var n=ke((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var i=t.target&&t.target.ownerDocument||document,s=i.documentElement,r=i.body;e.pageX=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(o),c=(a={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){a=null},dispatch:MouseEvent?function(e,t,n){var i=new MouseEvent("mousemove",Fe(a,t));return Pe(i,n),e.dispatchEvent(i)}:"function"==typeof document.createEvent?function(e,t,n){var i=Fe(a,t),s=document.createEvent("MouseEvents");return s.initMouseEvent("mousemove",!0,!0,window,0,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),Pe(s,n),e.dispatchEvent(s)}:"function"==typeof document.createEventObject?function(e,t,n){var i=document.createEventObject(),s=Fe(a,t);for(var r in s)i[r]=s[r];return Pe(i,n),e.dispatchEvent(i)}:void 0}),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=ke(t.autoScroll),this.syncMove=ke(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",f,!1),window.removeEventListener("touchstart",f,!1),window.removeEventListener("mouseup",b,!1),window.removeEventListener("touchend",b,!1),window.removeEventListener("pointerup",b,!1),window.removeEventListener("mouseleave",w,!1),window.removeEventListener("mousemove",E,!1),window.removeEventListener("touchmove",E,!1),window.removeEventListener("scroll",v,!0),e=[],t&&y()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return je.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return ze.apply(void 0,[e].concat(t))};var u,h,p=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),h=e,e=[],h.forEach(function(e){e===window?p=window:n.add(e)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return s}}});var m,g=null;function v(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){s=!0;break}s&&Qe(function(){return s=!1})}function f(){d=!0}function b(){d=!1,y()}function y(){Ye(m),Ye(u)}function w(){d=!1}function D(){for(var t=null,n=0;n<e.length;n++)$e(o,e[n])&&(t=e[n]);return t}function E(t){if(n.autoScroll()&&!t.dispatched){var i=t.target,s=document.body;g&&!$e(o,g)&&(n.scrollWhenOutside||(g=null)),i&&i.parentNode===s?i=D():(i=function(t){if(!t)return null;if(g===t)return t;if(Re(e,t))return t;for(;t=t.parentNode;)if(Re(e,t))return t;return null}(i))||(i=D()),i&&i!==g&&(g=i),p&&(Ye(u),u=Qe(C)),g&&(Ye(m),m=Qe(T))}}function C(){k(p),Ye(u),u=Qe(C)}function T(){g&&(k(g),Ye(m),m=Qe(T))}function k(e){var t,i,s=He(e);t=o.x<s.left+n.margin.left?Math.floor(Math.max(-1,(o.x-s.left)/n.margin.left-1)*n.maxSpeed.left):o.x>s.right-n.margin.right?Math.ceil(Math.min(1,(o.x-s.right)/n.margin.right+1)*n.maxSpeed.right):0,i=o.y<s.top+n.margin.top?Math.floor(Math.max(-1,(o.y-s.top)/n.margin.top-1)*n.maxSpeed.top):o.y>s.bottom-n.margin.bottom?Math.ceil(Math.min(1,(o.y-s.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&c.dispatch(e,{pageX:o.pageX+t,pageY:o.pageY+i,clientX:o.x+t,clientY:o.y+i}),setTimeout(function(){i&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,i),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",f,!1),window.addEventListener("touchstart",f,!1),window.addEventListener("mouseup",b,!1),window.addEventListener("touchend",b,!1),window.addEventListener("pointerup",b,!1),window.addEventListener("mousemove",E,!1),window.addEventListener("touchmove",E,!1),window.addEventListener("mouseleave",w,!1),window.addEventListener("scroll",v,!0)}function $e(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=He(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var Ve=n("pLZG"),Xe=n("5+tZ"),Ke=n("w1tV"),Je=n("IzEk"),Ue=n("BFxc");class Ge{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new qe(e,this.predicate,this.source))}}class qe extends pe.a{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Ze(){return e=>e.lift(new et)}class et{call(e,t){return t.subscribe(new tt(e))}}class tt extends pe.a{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var nt=n("/uUt");let it=(()=>{class e{constructor(){this.currentDrag=new j.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(l.R)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),st=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.l))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function rt(e,t,n){n&&n.split(" ").forEach(n=>e.addClass(t.nativeElement,n))}function at(e,t,n){n&&n.split(" ").forEach(n=>e.removeClass(t.nativeElement,n))}let ot=(()=>{class e{constructor(e,t,n,i,s,r,a){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=i,this.vcr=s,this.scrollContainer=r,this.document=a,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new l.n,this.dragStart=new l.n,this.ghostElementCreated=new l.n,this.dragging=new l.n,this.dragEnd=new l.n,this.pointerDown$=new j.a,this.pointerMove$=new j.a,this.pointerUp$=new j.a,this.eventListenerSubscriptions={},this.destroy$=new j.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object(Ve.a)(()=>this.canDrag()),Object(Xe.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const n=this.getScrollPosition(),i=new P.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(V.a)(n),Object(u.a)(()=>this.getScrollPosition())),s=new j.a,r=new we;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const a=Object(Ee.a)(this.pointerUp$,this.pointerDown$,r,this.destroy$).pipe(Object(Ke.a)()),o=Object(Ce.a)([this.pointerMove$,i]).pipe(Object(u.a)(([t,n])=>({currentDrag$:s,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top,target:t.event.target})),Object(u.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(u.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(u.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})),Object(Ve.a)(({x:e,y:t,transformX:n,transformY:i})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:i}})),Object(N.a)(a),Object(Ke.a)()),l=o.pipe(Object(Je.a)(1),Object(Ke.a)()),c=o.pipe(Object(Ue.a)(1),Object(Ke.a)());return l.subscribe(({clientX:e,clientY:t,x:n,y:i})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:r})}),this.scroller=new Ne([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),rt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const s=this.element.nativeElement.getBoundingClientRect(),r=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(r):this.element.nativeElement.parentNode.insertBefore(r,this.element.nativeElement.nextSibling),this.ghostElement=r,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(r,{position:"fixed",top:s.top+"px",left:s.left+"px",width:s.width+"px",height:s.height+"px",cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);r.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{r.appendChild(e)}),c.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-i,element:r})}),c.subscribe(()=>{r.parentElement.removeChild(r),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),c.pipe(Object(Xe.a)(e=>{const t=r.pipe(e=>e.lift(new Ge(void 0,e)),Object(Je.a)(1),Object(u.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return r.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),at(this.renderer,this.element,this.dragActiveClass),s.complete()}),Object(Ee.a)(a,c).pipe(Object(Je.a)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),o}),Object(Ke.a)());Object(Ee.a)(e.pipe(Object(Je.a)(1),Object(u.a)(e=>[,e])),e.pipe(Ze())).pipe(Object(Ve.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(u.a)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:n,clientX:i,clientY:s,transformX:r,transformY:a,target:o})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${r}px, ${a}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),n.next({clientX:i,clientY:s,dropData:this.dropData,target:o})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,n,i;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,i=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=Object(Te.a)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),r=Object(Te.a)(this.document,"touchmove",{passive:!1}).subscribe(s=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!n&&i&&(n=this.shouldBeginDrag(e,s,t)),(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&i&&!n||(s.preventDefault(),this.pointerMove$.next({event:s,clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),r.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const i=this.getScrollPosition(),s=Math.abs(i.top-n.top),r=Math.abs(i.left-n.left),a=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-r,o=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-s,l=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(a+o>l.delta||s>0||r>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=l.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.l),l.Kb(l.D),l.Kb(it),l.Kb(l.z),l.Kb(l.O),l.Kb(st,8),l.Kb(s.d))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[l.vb]}),e})();function lt(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let ct=(()=>{class e{constructor(e,t,n,i,s){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=i,this.scrollContainer=s,this.dragEnter=new l.n,this.dragLeave=new l.n,this.dragOver=new l.n,this.drop=new l.n}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{rt(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let i;const s=e.pipe(Object(u.a)(({clientX:e,clientY:n,dropData:s,target:r})=>{i=s,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const a=lt(e,n,t.rect),o=!this.validateDrop||this.validateDrop({clientX:e,clientY:n,target:r});return t.scrollContainerRect?a&&o&&lt(e,n,t.scrollContainerRect):a&&o})),r=s.pipe(Object(nt.a)());let a;r.pipe(Object(Ve.a)(e=>e)).subscribe(()=>{a=!0,rt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:i})})}),s.pipe(Object(Ve.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:i})})}),r.pipe(Ze(),Object(Ve.a)(([e,t])=>e&&!t)).subscribe(()=>{a=!1,at(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:i})})}),e.subscribe({complete:()=>{n(),at(this.renderer,this.element,this.dragActiveClass),a&&(at(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:i})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.l),l.Kb(it),l.Kb(l.z),l.Kb(l.D),l.Kb(st,8))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),dt=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)}}),e})();var ut=n("vkgz"),ht=n("3UWI");const pt="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function mt(e,t,n=3){return Math.abs(e-t)<n}function gt(e,t,n,i){const s={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(s.top+=i),t.bottom&&(s.bottom+=i),t.left&&(s.left+=n),t.right&&(s.right+=n),s.height=s.bottom-s.top,s.width=s.right-s.left,s}function vt({clientY:e,rect:t}){return e>=t.top&&e<=t.bottom}function ft({clientX:e,rect:t}){return e>=t.left&&e<=t.right}function bt({clientX:e,clientY:t,elm:n,allowedEdges:i,cursorPrecision:s}){const r=n.nativeElement.getBoundingClientRect(),a={};return i.left&&mt(e,r.left,s)&&vt({clientY:t,rect:r})&&(a.left=!0),i.right&&mt(e,r.right,s)&&vt({clientY:t,rect:r})&&(a.right=!0),i.top&&mt(t,r.top,s)&&ft({clientX:e,rect:r})&&(a.top=!0),i.bottom&&mt(t,r.bottom,s)&&ft({clientX:e,rect:r})&&(a.bottom=!0),a}const yt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function wt(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Dt({edges:e,initialRectangle:t,newRectangle:n}){const i={};return Object.keys(e).forEach(e=>{i[e]=(n[e]||0)-(t[e]||0)}),i}const Et="resize-active";let Ct=(()=>{class e{constructor(e,t,n,i){this.platformId=e,this.renderer=t,this.elm=n,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=yt,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new l.n,this.resizing=new l.n,this.resizeEnd=new l.n,this.mouseup=new j.a,this.mousedown=new j.a,this.mousemove=new j.a,this.destroy$=new j.a,this.resizeEdges$=new j.a,this.pointerEventListeners=Tt.getInstance(t,i)}ngOnInit(){const e=Object(Ee.a)(this.pointerEventListeners.pointerDown,this.mousedown),t=Object(Ee.a)(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Object(ut.a)(({event:e})=>{i&&e.preventDefault()}),Object(Ke.a)()),n=Object(Ee.a)(this.pointerEventListeners.pointerUp,this.mouseup);let i;const s=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},r=()=>Object.assign({},yt,this.resizeCursors);this.resizeEdges$.pipe(Object(V.a)(this.resizeEdges),Object(u.a)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(e=>!!this.resizeEdges[e])),Object($.a)(e=>e?t:me.a),Object(ht.a)(this.mouseMoveThrottleMS),Object(N.a)(this.destroy$)).subscribe(({clientX:e,clientY:t})=>{const n=bt({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),s=r();if(!i){const e=wt(n,s);this.renderer.setStyle(this.elm.nativeElement,"cursor",e)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),e.pipe(Object(Xe.a)(s=>{function r(e){return{clientX:e.clientX-s.clientX,clientY:e.clientY-s.clientY}}const a=()=>{const e={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function o(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return Object(Ee.a)(t.pipe(Object(Je.a)(1)).pipe(Object(u.a)(e=>[,e])),t.pipe(Ze())).pipe(Object(u.a)(([e,t])=>[e?r(e):e,r(t)])).pipe(Object(Ve.a)(([e,t])=>{if(!e)return!0;const n=a(),i=o(e,n),s=o(t,n);return i.x!==s.x||i.y!==s.y})).pipe(Object(u.a)(([,e])=>{const t=a();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe(Object(N.a)(Object(Ee.a)(n,e)))})).pipe(Object(Ve.a)(()=>!!i)).pipe(Object(u.a)(({clientX:e,clientY:t})=>gt(i.startingRect,i.edges,e,t))).pipe(Object(Ve.a)(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe(Object(Ve.a)(e=>!this.validateResize||this.validateResize({rectangle:e,edges:Dt({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e})})),Object(N.a)(this.destroy$)).subscribe(e=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",e.height+"px"),this.renderer.setStyle(i.clonedNode,"width",e.width+"px"),this.renderer.setStyle(i.clonedNode,"top",e.top+"px"),this.renderer.setStyle(i.clonedNode,"left",e.left+"px")),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Dt({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e}),rectangle:e})}),i.currentRect=e}),e.pipe(Object(u.a)(({clientX:e,clientY:t,edges:n})=>n||bt({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe(Object(Ve.a)(e=>Object.keys(e).length>0),Object(N.a)(this.destroy$)).subscribe(e=>{i&&s();const t=function(e,t){let n=0,i=0;const s=e.nativeElement.style,r=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>s[e]).find(e=>!!e);if(r&&r.includes("translate")&&(n=r.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=r.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-i,bottom:t.bottom-i,left:t.left-n,right:t.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:e,startingRect:t,currentRect:t};const n=r(),a=wt(i.edges,n);this.renderer.setStyle(document.body,"cursor",a),this.setElementClass(this.elm,Et,!0),this.enableGhostResize&&(i.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",i.startingRect.left+"px"),this.renderer.setStyle(i.clonedNode,"top",i.startingRect.top+"px"),this.renderer.setStyle(i.clonedNode,"height",i.startingRect.height+"px"),this.renderer.setStyle(i.clonedNode,"width",i.startingRect.width+"px"),this.renderer.setStyle(i.clonedNode,"cursor",wt(i.edges,n)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Dt({edges:e,initialRectangle:t,newRectangle:t}),rectangle:gt(t,{},0,0)})})}),n.pipe(Object(N.a)(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,Et),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Dt({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),s(),i=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){Object(s.C)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.B),l.Kb(l.D),l.Kb(l.l),l.Kb(l.z))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[l.vb]}),e})();class Tt{static getInstance(e,t){return Tt.instance||(Tt.instance=new Tt(e,t)),Tt.instance}constructor(e,t){this.pointerDown=new P.a(n=>{let i,s;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),pt&&(s=e.listen("document","touchstart",e=>{n.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})}))}),()=>{i(),pt&&s()}}).pipe(Object(Ke.a)()),this.pointerMove=new P.a(n=>{let i,s;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),pt&&(s=e.listen("document","touchmove",e=>{n.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})}))}),()=>{i(),pt&&s()}}).pipe(Object(Ke.a)()),this.pointerUp=new P.a(n=>{let i,s,r;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),pt&&(s=e.listen("document","touchend",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),r=e.listen("document","touchcancel",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}))}),()=>{i(),pt&&(s(),r())}}).pipe(Object(Ke.a)())}}let kt=(()=>{class e{constructor(e,t,n,i){this.renderer=e,this.element=t,this.zone=n,this.resizable=i,this.resizeEdges={},this.eventListeners={},this.destroy$=new j.a}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),pt&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),Object(Ee.a)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,t,n){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",e=>{this.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",e=>{this.onMousemove(e,e.clientX,e.clientY)})),this.resizable.mousedown.next({clientX:t,clientY:n,edges:this.resizeEdges})}onMouseup(e,t){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:t,edges:this.resizeEdges})}onMousemove(e,t,n){this.resizable.mousemove.next({clientX:t,clientY:n,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Object(Te.a)(this.element.nativeElement,e).pipe(Object(N.a)(this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.D),l.Kb(l.l),l.Kb(l.z),l.Kb(Ct))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges"}}),e})(),St=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)}}),e})();var Ot=n("R0Ic");const xt=function(e){return{action:e}};function Rt(e,t){if(1&e){const e=l.Tb();l.Rb(0,"a",5),l.cc("mwlClick",function(n){l.zc(e);const i=t.$implicit,s=l.ec(2).event;return i.onClick({event:s,sourceEvent:n})})("mwlKeydownEnter",function(n){l.zc(e);const i=t.$implicit,s=l.ec(2).event;return i.onClick({event:s,sourceEvent:n})}),l.fc(1,"calendarA11y"),l.Qb()}if(2&e){const e=t.$implicit;l.lc("ngClass",e.cssClass)("innerHtml",e.label,l.Ac),l.yb("aria-label",l.hc(1,3,l.pc(6,xt,e),"actionButtonLabel"))}}function Mt(e,t){if(1&e&&(l.Rb(0,"span",3),l.Hc(1,Rt,2,8,"a",4),l.Qb()),2&e){const e=l.ec(),t=e.event,n=e.trackByActionId;l.xb(1),l.lc("ngForOf",t.actions)("ngForTrackBy",n)}}function jt(e,t){1&e&&l.Hc(0,Mt,2,2,"span",2),2&e&&l.lc("ngIf",t.event.actions)}function zt(e,t){}const At=function(e,t){return{event:e,trackByActionId:t}},Ht=function(){return{}};function _t(e,t){if(1&e&&(l.Mb(0,"span",2),l.fc(1,"calendarEventTitle"),l.fc(2,"calendarA11y")),2&e){const e=t.event;l.lc("innerHTML",l.ic(1,2,e.title,t.view,e),l.Ac),l.yb("aria-hidden",l.hc(2,6,l.oc(9,Ht),"hideEventTitle"))}}function It(e,t){}const Lt=function(e,t){return{event:e,view:t}};function Bt(e,t){if(1&e&&(l.Rb(0,"div",2),l.Mb(1,"div",3),l.Mb(2,"div",4),l.Qb()),2&e){const e=t.contents;l.lc("ngClass","cal-tooltip-"+t.placement),l.xb(2),l.lc("innerHtml",e,l.Ac)}}function Ft(e,t){}const Pt=function(e,t,n){return{contents:e,placement:t,event:n}},Wt=function(e){return{backgroundColor:e}};function Qt(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-month-cell",7),l.cc("mwlClick",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).dayClicked.emit({day:i,sourceEvent:n})})("mwlKeydownEnter",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).dayClicked.emit({day:i,sourceEvent:n})})("highlightDay",function(t){return l.zc(e),l.ec(2).toggleDayHighlight(t.event,!0)})("unhighlightDay",function(t){return l.zc(e),l.ec(2).toggleDayHighlight(t.event,!1)})("drop",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).eventDropped(i,n.dropData.event,n.dropData.draggedFrom)})("eventClicked",function(t){return l.zc(e),l.ec(2).eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})}),l.fc(1,"calendarA11y"),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec(2);l.lc("ngClass",null==e?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",l.pc(15,Wt,e.backgroundColor))("clickListenerDisabled",0===n.dayClicked.observers.length),l.yb("tabindex",l.hc(1,12,l.oc(17,Ht),"monthCellTabIndex"))}}function Yt(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div"),l.Rb(1,"div",4),l.Hc(2,Qt,2,18,"mwl-calendar-month-cell",5),l.fc(3,"slice"),l.Qb(),l.Rb(4,"mwl-calendar-open-day-events",6),l.cc("eventClicked",function(t){return l.zc(e),l.ec().eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})})("drop",function(t){l.zc(e);const n=l.ec();return n.eventDropped(n.openDay,t.dropData.event,t.dropData.draggedFrom)}),l.Qb(),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec();l.xb(2),l.lc("ngForOf",l.ic(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),l.xb(2),l.lc("locale",n.locale)("isOpen",n.openRowIndex===e)("events",null==n.openDay?null:n.openDay.events)("date",null==n.openDay?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}function Nt(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",4),l.cc("click",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).columnHeaderClicked.emit({isoDayNumber:i.day,sourceEvent:n})}),l.Jc(1),l.fc(2,"calendarDate"),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec().locale;l.Cb("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),l.lc("ngClass",e.cssClass),l.xb(1),l.Lc(" ",l.ic(2,10,e.date,"monthViewColumnHeader",n)," ")}}function $t(e,t){if(1&e&&(l.Rb(0,"div",2),l.Hc(1,Nt,3,14,"div",3),l.Qb()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;l.xb(1),l.lc("ngForOf",e)("ngForTrackBy",n)}}function Vt(e,t){}const Xt=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function Kt(e,t){if(1&e&&(l.Rb(0,"span",7),l.Jc(1),l.Qb()),2&e){const e=l.ec().day;l.xb(1),l.Kc(e.badgeTotal)}}const Jt=function(e,t){return{event:e,draggedFrom:t}},Ut=function(e,t){return{x:e,y:t}},Gt=function(){return{delay:300,delta:30}};function qt(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",10),l.cc("mouseenter",function(){l.zc(e);const n=t.$implicit;return l.ec(2).highlightDay.emit({event:n})})("mouseleave",function(){l.zc(e);const n=t.$implicit;return l.ec(2).unhighlightDay.emit({event:n})})("mwlClick",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).eventClicked.emit({event:i,sourceEvent:n})}),l.fc(1,"calendarEventTitle"),l.fc(2,"calendarA11y"),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec(2),i=n.tooltipPlacement,s=n.tooltipTemplate,r=n.tooltipAppendToBody,a=n.tooltipDelay,o=n.day,c=n.validateDrag;l.Cb("cal-draggable",e.draggable),l.lc("ngStyle",l.pc(22,Wt,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",l.ic(1,15,e.title,"monthTooltip",e))("tooltipPlacement",i)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",r)("tooltipDelay",a)("dropData",l.qc(24,Jt,e,o))("dragAxis",l.qc(27,Ut,e.draggable,e.draggable))("validateDrag",c)("touchStartLongPress",l.oc(30,Gt)),l.yb("aria-hidden",l.hc(2,19,l.oc(31,Ht),"hideMonthCellEvents"))}}function Zt(e,t){if(1&e&&(l.Rb(0,"div",8),l.Hc(1,qt,3,32,"div",9),l.Qb()),2&e){const e=l.ec(),t=e.day,n=e.trackByEventId;l.xb(1),l.lc("ngForOf",t.events)("ngForTrackBy",n)}}const en=function(e,t){return{day:e,locale:t}};function tn(e,t){if(1&e&&(l.Rb(0,"div",2),l.fc(1,"calendarA11y"),l.Rb(2,"span",3),l.Hc(3,Kt,2,1,"span",4),l.Rb(4,"span",5),l.Jc(5),l.fc(6,"calendarDate"),l.Qb(),l.Qb(),l.Qb(),l.Hc(7,Zt,2,2,"div",6)),2&e){const e=t.day,n=t.locale;l.yb("aria-label",l.hc(1,4,l.qc(11,en,e,n),"monthCell")),l.xb(3),l.lc("ngIf",e.badgeTotal>0),l.xb(2),l.Kc(l.ic(6,7,e.date,"monthViewDayNumber",n)),l.xb(2),l.lc("ngIf",e.events.length>0)}}function nn(e,t){}const sn=function(e,t,n,i,s,r,a,o,l,c,d,u){return{day:e,openDay:t,locale:n,tooltipPlacement:i,highlightDay:s,unhighlightDay:r,eventClicked:a,tooltipTemplate:o,tooltipAppendToBody:l,tooltipDelay:c,trackByEventId:d,validateDrag:u}},rn=function(e){return{event:e}},an=function(e,t){return{event:e,locale:t}};function on(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",7),l.Mb(1,"span",8),l.Jc(2," "),l.Rb(3,"mwl-calendar-event-title",9),l.cc("mwlClick",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).eventClicked.emit({event:i,sourceEvent:n})})("mwlKeydownEnter",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).eventClicked.emit({event:i,sourceEvent:n})}),l.fc(4,"calendarA11y"),l.Qb(),l.Jc(5," "),l.Mb(6,"mwl-calendar-event-actions",10),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec(2).validateDrag,i=l.ec();l.Cb("cal-draggable",e.draggable),l.lc("ngClass",null==e?null:e.cssClass)("dropData",l.pc(16,rn,e))("dragAxis",l.qc(18,Ut,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",l.oc(21,Gt)),l.xb(1),l.lc("ngStyle",l.pc(22,Wt,null==e.color?null:e.color.primary)),l.xb(2),l.lc("event",e)("customTemplate",i.eventTitleTemplate),l.yb("aria-label",l.hc(4,13,l.qc(24,an,e,i.locale),"eventDescription")),l.xb(3),l.lc("event",e)("customTemplate",i.eventActionsTemplate)}}const ln=function(e,t){return{date:e,locale:t}};function cn(e,t){if(1&e&&(l.Rb(0,"div",3),l.Mb(1,"span",4),l.fc(2,"calendarA11y"),l.Mb(3,"span",5),l.fc(4,"calendarA11y"),l.Hc(5,on,7,27,"div",6),l.Qb()),2&e){const e=l.ec(),t=e.events,n=e.trackByEventId,i=l.ec();l.lc("@collapse",void 0),l.xb(1),l.yb("aria-label",l.hc(2,5,l.qc(11,ln,i.date,i.locale),"openDayEventsAlert")),l.xb(2),l.yb("aria-label",l.hc(4,8,l.qc(14,ln,i.date,i.locale),"openDayEventsLandmark")),l.xb(2),l.lc("ngForOf",t)("ngForTrackBy",n)}}function dn(e,t){1&e&&l.Hc(0,cn,6,17,"div",2),2&e&&l.lc("ngIf",t.isOpen)}function un(e,t){}const hn=function(e,t,n,i,s){return{events:e,eventClicked:t,isOpen:n,trackByEventId:i,validateDrag:s}};function pn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",13),l.cc("drop",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).eventDropped(n,i.date,!0)})("dragEnter",function(){l.zc(e);const n=t.$implicit;return l.ec(2).dateDragEnter(n.date)}),l.Qb()}}const mn=function(){return{left:!0}};function gn(e,t){1&e&&l.Mb(0,"div",22),2&e&&l.lc("resizeEdges",l.oc(1,mn))}const vn=function(){return{right:!0}};function fn(e,t){1&e&&l.Mb(0,"div",23),2&e&&l.lc("resizeEdges",l.oc(1,vn))}const bn=function(e,t){return{left:e,right:t}},yn=function(e,t){return{event:e,calendarId:t}},wn=function(e){return{x:e}};function Dn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",17,18),l.cc("resizeStart",function(n){l.zc(e);const i=t.$implicit;l.ec();const s=l.yc(1);return l.ec(2).allDayEventResizeStarted(s,i,n)})("resizing",function(n){l.zc(e);const i=t.$implicit,s=l.ec(3);return s.allDayEventResizing(i,n,s.dayColumnWidth)})("resizeEnd",function(){l.zc(e);const n=t.$implicit;return l.ec(3).allDayEventResizeEnded(n)})("dragStart",function(){l.zc(e);const t=l.yc(1);l.ec();const n=l.yc(1);return l.ec(2).dragStarted(n,t)})("dragging",function(){return l.zc(e),l.ec(3).allDayEventDragMove()})("dragEnd",function(n){l.zc(e);const i=t.$implicit,s=l.ec(3);return s.dragEnded(i,n,s.dayColumnWidth)}),l.Hc(2,gn,1,2,"div",19),l.Rb(3,"mwl-calendar-week-view-event",20),l.cc("eventClicked",function(n){l.zc(e);const i=t.$implicit;return l.ec(3).eventClicked.emit({event:i.event,sourceEvent:n.sourceEvent})}),l.Qb(),l.Hc(4,fn,1,2,"div",21),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec(3);l.Fc("width",100/n.days.length*e.span,"%")("margin-left",100/n.days.length*e.offset,"%"),l.Cb("cal-draggable",e.event.draggable&&0===n.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),l.lc("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",l.qc(30,bn,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",l.qc(33,yn,e.event,n.calendarId))("dragAxis",l.qc(36,Ut,e.event.draggable&&0===n.allDayEventResizes.size,!n.snapDraggedEvents&&e.event.draggable&&0===n.allDayEventResizes.size))("dragSnapGrid",n.snapDraggedEvents?l.pc(39,wn,n.dayColumnWidth):l.oc(41,Ht))("validateDrag",n.validateDrag)("touchStartLongPress",l.oc(42,Gt)),l.xb(2),l.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),l.xb(1),l.lc("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),l.xb(1),l.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function En(e,t){if(1&e&&(l.Rb(0,"div",14,15),l.Hc(2,Dn,5,43,"div",16),l.Qb()),2&e){const e=t.$implicit,n=l.ec(2);l.xb(2),l.lc("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function Cn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",8,9),l.cc("dragEnter",function(){return l.zc(e),l.ec().dragEnter("allDay")})("dragLeave",function(){return l.zc(e),l.ec().dragLeave("allDay")}),l.Rb(2,"div",5),l.Mb(3,"div",10),l.Hc(4,pn,1,0,"div",11),l.Qb(),l.Hc(5,En,3,2,"div",12),l.Qb()}if(2&e){const e=l.ec();l.xb(3),l.lc("ngTemplateOutlet",e.allDayEventsLabelTemplate),l.xb(1),l.lc("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),l.xb(1),l.lc("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Tn(e,t){if(1&e&&l.Mb(0,"mwl-calendar-week-view-hour-segment",28),2&e){const e=t.$implicit,n=l.ec(3);l.Fc("height",n.hourSegmentHeight,"px"),l.lc("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function kn(e,t){if(1&e&&(l.Rb(0,"div",26),l.Hc(1,Tn,1,8,"mwl-calendar-week-view-hour-segment",27),l.Qb()),2&e){const e=t.$implicit,n=t.odd,i=l.ec(2);l.Cb("cal-hour-odd",n),l.xb(1),l.lc("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Sn(e,t){if(1&e&&(l.Rb(0,"div",24),l.Hc(1,kn,2,4,"div",25),l.Qb()),2&e){const e=l.ec();l.xb(1),l.lc("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const On=function(){return{left:!0,top:!0}};function xn(e,t){1&e&&l.Mb(0,"div",22),2&e&&l.lc("resizeEdges",l.oc(1,On))}function Rn(e,t){}function Mn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-week-view-event",36),l.cc("eventClicked",function(t){l.zc(e);const n=l.ec().$implicit;return l.ec(2).eventClicked.emit({event:n.event,sourceEvent:t.sourceEvent})}),l.Qb()}if(2&e){const e=l.ec().$implicit,t=l.ec().$implicit,n=l.ec();l.lc("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDisabled",n.dragActive||n.timeEventResizes.size>0)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("column",t)("daysInWeek",n.daysInWeek)}}const jn=function(){return{right:!0,bottom:!0}};function zn(e,t){1&e&&l.Mb(0,"div",23),2&e&&l.lc("resizeEdges",l.oc(1,jn))}const An=function(e,t,n,i){return{left:e,right:t,top:n,bottom:i}};function Hn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",33,18),l.cc("resizeStart",function(n){l.zc(e);const i=t.$implicit,s=l.ec(2),r=l.yc(6);return s.timeEventResizeStarted(r,i,n)})("resizing",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).timeEventResizing(i,n)})("resizeEnd",function(){l.zc(e);const n=t.$implicit;return l.ec(2).timeEventResizeEnded(n)})("dragStart",function(){l.zc(e);const n=t.$implicit,i=l.yc(1),s=l.ec(2),r=l.yc(6);return s.dragStarted(r,i,n)})("dragging",function(n){l.zc(e);const i=t.$implicit;return l.ec(2).dragMove(i,n)})("dragEnd",function(n){l.zc(e);const i=t.$implicit,s=l.ec(2);return s.dragEnded(i,n,s.dayColumnWidth,!0)}),l.Hc(2,xn,1,2,"div",19),l.Hc(3,Rn,0,0,"ng-template",34),l.Hc(4,Mn,1,12,"ng-template",null,35,l.Ic),l.Hc(6,zn,1,2,"div",21),l.Qb()}if(2&e){const e=t.$implicit,n=l.yc(5),i=l.ec(2);l.Fc("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),l.Cb("cal-draggable",e.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),l.lc("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",l.sc(29,An,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",l.qc(34,yn,e.event,i.calendarId))("dragAxis",l.qc(37,Ut,e.event.draggable&&0===i.timeEventResizes.size,e.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?l.qc(40,Ut,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):l.oc(43,Ht))("touchStartLongPress",l.oc(44,Gt))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",i.validateDrag),l.xb(2),l.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),l.xb(1),l.lc("ngTemplateOutlet",n),l.xb(3),l.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function _n(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-week-view-hour-segment",38),l.cc("mwlClick",function(n){l.zc(e);const i=t.$implicit;return l.ec(3).hourSegmentClicked.emit({date:i.date,sourceEvent:n})})("drop",function(n){l.zc(e);const i=t.$implicit;return l.ec(3).eventDropped(n,i.date,!1)})("dragEnter",function(){l.zc(e);const n=t.$implicit;return l.ec(3).dateDragEnter(n.date)}),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec(3);l.Fc("height",n.hourSegmentHeight,"px"),l.lc("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",0===n.hourSegmentClicked.observers.length)("dragOverClass",n.dragActive&&n.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===n.daysInWeek)}}function In(e,t){if(1&e&&(l.Rb(0,"div",26),l.Hc(1,_n,1,10,"mwl-calendar-week-view-hour-segment",37),l.Qb()),2&e){const e=t.$implicit,n=t.odd,i=l.ec(2);l.Cb("cal-hour-odd",n),l.xb(1),l.lc("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Ln(e,t){if(1&e&&(l.Rb(0,"div",29),l.Mb(1,"mwl-calendar-week-view-current-time-marker",30),l.Rb(2,"div",31),l.Hc(3,Hn,7,45,"div",32),l.Qb(),l.Hc(4,In,2,4,"div",25),l.Qb()),2&e){const e=t.$implicit,n=l.ec();l.xb(1),l.lc("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),l.xb(2),l.lc("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),l.xb(1),l.lc("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}function Bn(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div",4),l.cc("mwlClick",function(n){l.zc(e);const i=t.$implicit;return l.ec().dayHeaderClicked.emit({day:i,sourceEvent:n})})("drop",function(n){l.zc(e);const i=t.$implicit;return l.ec().eventDropped.emit({event:n.dropData.event,newStart:i.date})})("dragEnter",function(){l.zc(e);const n=t.$implicit;return l.ec().dragEnter.emit({date:n.date})}),l.Rb(1,"b"),l.Jc(2),l.fc(3,"calendarDate"),l.Qb(),l.Mb(4,"br"),l.Rb(5,"span"),l.Jc(6),l.fc(7,"calendarDate"),l.Qb(),l.Qb()}if(2&e){const e=t.$implicit,n=l.ec().locale;l.Cb("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),l.lc("ngClass",e.cssClass),l.xb(2),l.Kc(l.ic(3,11,e.date,"weekViewColumnHeader",n)),l.xb(4),l.Kc(l.ic(7,15,e.date,"weekViewColumnSubHeader",n))}}function Fn(e,t){if(1&e&&(l.Rb(0,"div",2),l.Hc(1,Bn,8,19,"div",3),l.Qb()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;l.xb(1),l.lc("ngForOf",e)("ngForTrackBy",n)}}function Pn(e,t){}const Wn=function(e,t,n,i,s,r){return{days:e,locale:t,dayHeaderClicked:n,eventDropped:i,dragEnter:s,trackByWeekDayHeaderDate:r}},Qn=function(e,t){return{backgroundColor:e,borderColor:t}};function Yn(e,t){if(1&e&&(l.Rb(0,"div",2),l.cc("mwlClick",function(e){return t.eventClicked.emit({sourceEvent:e})})("mwlKeydownEnter",function(e){return t.eventClicked.emit({sourceEvent:e})}),l.fc(1,"calendarEventTitle"),l.fc(2,"calendarA11y"),l.Mb(3,"mwl-calendar-event-actions",3),l.Jc(4," "),l.Mb(5,"mwl-calendar-event-title",4),l.Qb()),2&e){const e=t.weekEvent,n=t.tooltipPlacement,i=t.tooltipTemplate,s=t.tooltipAppendToBody,r=t.tooltipDisabled,a=t.tooltipDelay,o=t.daysInWeek,c=l.ec();l.lc("ngStyle",l.qc(20,Qn,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",r?"":l.ic(1,13,e.event.title,1===o?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",i)("tooltipAppendToBody",s)("tooltipDelay",a),l.yb("aria-label",l.hc(2,17,l.qc(23,an,e.tempEvent||e.event,c.locale),"eventDescription")),l.xb(3),l.lc("event",e.tempEvent||e.event)("customTemplate",c.eventActionsTemplate),l.xb(2),l.lc("event",e.tempEvent||e.event)("customTemplate",c.eventTitleTemplate)("view",1===o?"day":"week")}}function Nn(e,t){}const $n=function(e,t,n,i,s,r,a,o,l){return{weekEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:s,tooltipDisabled:r,tooltipDelay:a,column:o,daysInWeek:l}};function Vn(e,t){if(1&e&&(l.Rb(0,"div",4),l.Jc(1),l.fc(2,"calendarDate"),l.Qb()),2&e){const e=l.ec(),t=e.segment,n=e.daysInWeek,i=e.locale;l.xb(1),l.Lc(" ",l.ic(2,1,t.displayDate,1===n?"dayViewHour":"weekViewHour",i)," ")}}function Xn(e,t){if(1&e&&(l.Rb(0,"div",2),l.fc(1,"calendarA11y"),l.Hc(2,Vn,3,5,"div",3),l.Qb()),2&e){const e=t.segment,n=t.isTimeLabel,i=t.daysInWeek;l.Fc("height",t.segmentHeight,"px"),l.Cb("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),l.lc("ngClass",e.cssClass),l.yb("aria-hidden",l.hc(1,9,l.oc(12,Ht),1===i?"hideDayHourSegment":"hideWeekHourSegment")),l.xb(2),l.lc("ngIf",n)}}function Kn(e,t){}const Jn=function(e,t,n,i,s){return{segment:e,locale:t,segmentHeight:n,isTimeLabel:i,daysInWeek:s}};function Un(e,t){if(1&e&&l.Mb(0,"div",3),2&e){const e=l.ec().topPx;l.Fc("top",e,"px")}}function Gn(e,t){1&e&&l.Hc(0,Un,1,2,"div",2),2&e&&l.lc("ngIf",t.isVisible)}function qn(e,t){}const Zn=function(e,t,n,i,s,r,a){return{columnDate:e,dayStartHour:t,dayStartMinute:n,dayEndHour:i,dayEndMinute:s,isVisible:r,topPx:a}};let ei=(()=>{let e=class{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(l.Hc(0,jt,1,1,"ng-template",null,0,l.Ic),l.Hc(2,zt,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.qc(2,At,t.event,t.trackByActionId))}},directives:function(){return[s.r,s.n,s.m,s.l,Ri,Mi]},pipes:function(){return[Ai]},encapsulation:2}),e})(),ti=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(l.Hc(0,_t,3,10,"ng-template",null,0,l.Ic),l.Hc(2,It,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.qc(2,Lt,t.event,t.view))}},directives:function(){return[s.r]},pipes:function(){return[xi,Ai]},encapsulation:2}),e})(),ni=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(l.Hc(0,Bt,3,2,"ng-template",null,0,l.Ic),l.Hc(2,Ft,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.rc(2,Pt,t.contents,t.placement,t.event))}},directives:[s.r,s.l],encapsulation:2}),e})(),ii=(()=>{let e=class{constructor(e,t,n,i,s,r){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=s,this.document=r,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new j.a,this.tooltipFactory=i.resolveComponentFactory(ni)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Object(B.a)("now"):Object(F.a)(this.delay)).pipe(Object(N.a)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,i,s){var r=Array.isArray(n)?n:n.split(I),a=function(e){e.split("-");return[]},o=r.findIndex(function(e){return"auto"===e});o>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(e){null==r.find(function(t){return-1!==t.search("^"+e)})&&r.splice(o++,1,e)});var l,c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var d=!1,u=0,h=r;u<h.length;u++)if(a(l=h[u]),L.positionElements(e,t,l,i)){d=!0;break}return d||(a(l=r[0]),L.positionElements(e,t,l,i)),l}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.l),l.Kb(l.r),l.Kb(l.D),l.Kb(l.j),l.Kb(l.O),l.Kb(s.d))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&l.cc("mouseenter",function(){return t.onMouseOver()})("mouseleave",function(){return t.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[l.vb]}),e=A([H(5,Object(l.p)(s.d)),_("design:paramtypes",[l.l,l.r,l.D,l.j,l.O,Object])],e),e})();class si{}var ri=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({});const ai=e=>function(e,t){var n=!0;function i(e,i){t(e,i),n=!1}return Array.isArray(e)?(e.forEach(function(e){e.start?e.start instanceof Date||i(oe.StartPropertyNotDate,e):i(oe.StartPropertyMissing,e),e.end&&(e.end instanceof Date||i(oe.EndPropertyNotDate,e),e.start>e.end&&i(oe.EndsBeforeStart,e))}),n):(t(oe.NotArray,e),!1)}(e,(...e)=>console.warn("angular-calendar",...e));function oi(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function li(e,t){return Math.round(e/t)*t}const ci=(e,t)=>t.id?t.id:t,di=(e,t)=>t.date.toISOString(),ui=(e,t)=>t.date.toISOString(),hi=(e,t)=>t.segments[0].date.toISOString(),pi=(e,t)=>t.event.id?t.event.id:t.event,mi=(e,t)=>t.event.id?t.event.id:t.event;function gi(e,t){return 60/(e*t)}function vi(e,t,n,i){return li(e,i||n)*gi(t,n)}function fi(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function bi(e,t,n,i){let s=0,r=0;const a=n<0?e.subDays:e.addDays;let o=t;for(;r<=Math.abs(n);){o=a(t,s);const n=e.getDay(o);-1===i.indexOf(n)&&r++,s++}return o}function yi(e,t,n,i=[],s){let r=s?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const a=e.endOfWeek(t,{weekStartsOn:n});for(;i.indexOf(e.getDay(r))>-1&&r<a;)r=e.addDays(r,1);if(s)return{viewStart:r,viewEnd:e.endOfDay(bi(e,r,s-1,i))};{let t=a;for(;i.indexOf(e.getDay(t))>-1&&t>r;)t=e.subDays(t,1);return{viewStart:r,viewEnd:t}}}function wi({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let Di=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new l.n}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===ri.Day?bi(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===ri.Week&&this.daysInWeek?bi(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(si))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&l.cc("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e=A([_("design:paramtypes",[si])],e),e})(),Ei=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new l.n}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===ri.Day?bi(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===ri.Week&&this.daysInWeek?bi(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(si))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&l.cc("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e=A([_("design:paramtypes",[si])],e),e})(),Ci=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.viewDateChange=new l.n}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(si))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&l.cc("click",function(){return t.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),e=A([_("design:paramtypes",[si])],e),e})(),Ti=(()=>{let e=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return Object(s.y)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return Object(s.y)(e,"d",t)}monthViewTitle({date:e,locale:t}){return Object(s.y)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return Object(s.y)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return Object(s.y)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:i,daysInWeek:r}){const{viewStart:a,viewEnd:o}=yi(this.dateAdapter,e,n,i,r),l=(e,n)=>Object(s.y)(e,"MMM d"+(n?", yyyy":""),t);return`${l(a,a.getUTCFullYear()!==o.getUTCFullYear())} - ${l(o,!0)}`}weekViewHour({date:e,locale:t}){return Object(s.y)(e,"h a",t)}dayViewHour({date:e,locale:t}){return Object(s.y)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return Object(s.y)(e,"EEEE, MMMM d, y",t)}};return e.\u0275fac=function(t){return new(t||e)(l.Zb(si))},e.\u0275prov=l.Gb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=A([_("design:paramtypes",[si])],e),e})(),ki=(()=>{let e=class extends Ti{};return e.\u0275fac=function(t){return ts(t||e)},e.\u0275prov=l.Gb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Si=(()=>{let e=class{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,n=this.locale,i=0,s=[],r){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(ki.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:i,excludeDays:s,daysInWeek:r})}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(ki),l.Kb(l.u))},e.\u0275pipe=l.Jb({name:"calendarDate",type:e,pure:!0}),e=A([H(1,Object(l.p)(l.u)),_("design:paramtypes",[ki,String])],e),e})();class Oi{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let xi=(()=>{let e=class{constructor(e){this.calendarEventTitle=e}transform(e,t,n){return this.calendarEventTitle[t](n,e)}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(Oi))},e.\u0275pipe=l.Jb({name:"calendarEventTitle",type:e,pure:!0}),e=A([_("design:paramtypes",[Oi])],e),e})(),Ri=(()=>{let e=class{constructor(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new l.n,this.destroy$=new j.a}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Object(N.a)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new P.a(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.D),l.Kb(l.l),l.Kb(s.d))},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e=A([H(2,Object(l.p)(s.d)),_("design:paramtypes",[l.D,l.l,Object])],e),e})(),Mi=(()=>{let e=class{constructor(){this.keydown=new l.n}onKeyPress(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.Fb({type:e,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&l.cc("keydown",function(e){return t.onKeyPress(e)})},outputs:{keydown:"mwlKeydownEnter"}}),e})(),ji=(()=>{let e=class{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,s=t.viewDate,r=t.weekStartsOn,a=t.excluded,o=void 0===a?[]:a,l=t.viewStart,c=void 0===l?e.startOfMonth(s):l,d=t.viewEnd,u=void 0===d?e.endOfMonth(s):d,h=t.weekendDays;i||(i=[]);for(var p,m=e.endOfWeek,g=e.differenceInDays,v=e.startOfDay,f=e.addHours,b=e.endOfDay,y=e.isSameMonth,w=e.getDay,D=(0,e.startOfWeek)(c,{weekStartsOn:r}),E=m(u,{weekStartsOn:r}),C=Z(e,{events:i,periodStart:D,periodEnd:E}),T=[],k=function(t){var n;if(p?(n=v(f(p,24)),p.getTime()===n.getTime()&&(n=v(f(p,25))),p=n):n=p=D,!o.some(function(e){return w(n)===e})){var i=ee(e,{date:n,weekendDays:h}),r=Z(e,{events:C,periodStart:v(n),periodEnd:b(n)});i.inMonth=y(n,s),i.events=r,i.badgeTotal=r.length,T.push(i)}},S=0;S<g(E,D)+1;S++)k();var O=[],x=7-o.length;if(x<7)for(S=0;S<T.length;S+=x){var R=T.slice(S,S+x);R.some(function(e){return c<=e.date&&e.date<u})&&(O=K(O,R))}else O=T;var M=Math.floor(O.length/x),j=[];for(S=0;S<M;S++)j.push(S*x);return{rowOffsets:j,totalDaysVisibleInWeek:x,days:O,period:{start:O[0].date,end:b(O[O.length-1].date),events:C}}}(this.dateAdapter,e)}getWeekViewHeader(e){return te(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,s=t.viewDate,r=t.weekStartsOn,a=t.excluded,o=void 0===a?[]:a,l=t.precision,c=void 0===l?"days":l,d=t.absolutePositionedEvents,u=void 0!==d&&d,h=t.hourSegments,p=t.hourDuration,m=t.dayStart,g=t.dayEnd,v=t.weekendDays,f=t.segmentHeight,b=t.minimumEventHeight,y=t.viewStart,w=void 0===y?e.startOfWeek(s,{weekStartsOn:r}):y,D=t.viewEnd,E=void 0===D?e.endOfWeek(s,{weekStartsOn:r}):D;i||(i=[]);var C=e.endOfDay,T=Z(e,{events:i,periodStart:w=(0,e.startOfDay)(w),periodEnd:E=C(E)}),k=te(e,{viewDate:s,weekStartsOn:r,excluded:o,weekendDays:v,viewStart:w,viewEnd:E});return{allDayEventRows:ne(e,{events:T,excluded:o,precision:c,absolutePositionedEvents:u,viewStart:w,viewEnd:E}),period:{events:T,start:k[0].date,end:C(k[k.length-1].date)},hourColumns:ie(e,{events:i,viewDate:s,hourSegments:h,hourDuration:p,dayStart:m,dayEnd:g,weekStartsOn:r,excluded:o,weekendDays:v,segmentHeight:f,viewStart:w,viewEnd:E,minimumEventHeight:b})}}(this.dateAdapter,e)}};return e.\u0275fac=function(t){return new(t||e)(l.Zb(si))},e.\u0275prov=l.Gb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=A([_("design:paramtypes",[si])],e),e})(),zi=(()=>{let e=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${Object(s.y)(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:""+Object(s.y)(e.date,"EEEE MMMM d",t)}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${Object(s.y)(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return Object(s.y)(e,"EEEE MMMM dd",t)+" expanded"}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const n=`\n      ${Object(s.y)(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${Object(s.y)(e.start,"hh:mm a",t)}\n    `;return e.end?n+" to "+Object(s.y)(e.end,"hh:mm a",t):n}allDayEventDescription({event:e,locale:t}){const n=`\n      ${e.title}, event spans multiple days:\n      start time ${Object(s.y)(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?n+", stop time "+Object(s.y)(e.end,"MMMM d hh:mm a",t):n+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return e.\u0275fac=function(t){return new(t||e)(l.Zb(s.h))},e.\u0275prov=l.Gb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=A([_("design:paramtypes",[s.h])],e),e})(),Ai=(()=>{let e=class{constructor(e,t){this.calendarA11y=e,this.locale=t}transform(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(zi.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid a11y method. Can only be one of ${e.join(", ")}`)}return this.calendarA11y[t](e)}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(zi),l.Kb(l.u))},e.\u0275pipe=l.Jb({name:"calendarA11y",type:e,pure:!0}),e=A([H(1,Object(l.p)(l.u)),_("design:paramtypes",[zi,String])],e),e})();new l.q("Moment");var Hi,_i=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({});let Ii=(()=>{let e=Hi=class{static forRoot(e,t={}){return{ngModule:Hi,providers:[e,t.eventTitleFormatter||Oi,t.dateFormatter||ki,t.utils||ji,t.a11y||zi]}}};return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},providers:[s.h],imports:[[s.c]]}),e})(),Li=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new l.n,this.dayClicked=new l.n,this.eventClicked=new l.n,this.columnHeaderClicked=new l.n,this.eventTimesChanged=new l.n,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&ai(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(n=>{t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor})}eventDropped(e,t,n){if(e!==n){const n=this.dateAdapter.getYear(e.date),i=this.dateAdapter.getMonth(e.date),s=this.dateAdapter.getDate(e.date),r=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,n),i),s);let a;if(t.end){const e=this.dateAdapter.differenceInSeconds(r,t.start);a=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:r,newEnd:a,day:e,type:_i.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.h),l.Kb(ji),l.Kb(l.u),l.Kb(si))},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[l.vb],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(l.Rb(0,"div",0),l.Rb(1,"mwl-calendar-month-view-header",1),l.cc("columnHeaderClicked",function(e){return t.columnHeaderClicked.emit(e)}),l.Qb(),l.Rb(2,"div",2),l.Hc(3,Yt,5,13,"div",3),l.Qb(),l.Qb()),2&e&&(l.xb(1),l.lc("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),l.xb(2),l.lc("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[Bi,s.m,Wi,ct,Fi,s.l,s.o,Ri,Mi]},pipes:function(){return[s.v,Ai]},encapsulation:2}),e=A([H(2,Object(l.p)(l.u)),_("design:paramtypes",[l.h,ji,String,si])],e),e})(),Bi=(()=>{let e=class{constructor(){this.columnHeaderClicked=new l.n,this.trackByWeekDayHeaderDate=di}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(l.Hc(0,$t,2,2,"ng-template",null,0,l.Ic),l.Hc(2,Vt,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.rc(2,Xt,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[s.r,s.m,s.l],pipes:[Si],encapsulation:2}),e})(),Fi=(()=>{let e=class{constructor(){this.highlightDay=new l.n,this.unhighlightDay=new l.n,this.eventClicked=new l.n,this.trackByEventId=ci,this.validateDrag=wi}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&l.Cb("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(l.Hc(0,tn,8,14,"ng-template",null,0,l.Ic),l.Hc(2,nn,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.wc(2,sn,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[s.r,s.n,s.m,ot,s.o,s.l,ii,Ri],pipes:[Ai,Si,xi],encapsulation:2}),e})();const Pi=Object(Ot.e)("collapse",[Object(Ot.b)("void",Object(Ot.c)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(Ot.b)("*",Object(Ot.c)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(Ot.d)("* => void",Object(Ot.a)("150ms ease-out")),Object(Ot.d)("void => *",Object(Ot.a)("150ms ease-in"))]);let Wi=(()=>{let e=class{constructor(){this.isOpen=!1,this.eventClicked=new l.n,this.trackByEventId=ci,this.validateDrag=wi}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(l.Hc(0,dn,1,1,"ng-template",null,0,l.Ic),l.Hc(2,un,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.tc(2,hn,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[s.r,s.n,s.m,ot,s.l,s.o,ti,Ri,Mi,ei],pipes:[Ai],encapsulation:2,data:{animation:[Pi]}}),e})(),Qi=(()=>{let e=class{};return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.c,dt,Ii],dt]}),e})();class Yi{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:n,dragAlreadyMoved:i,transform:s}){if(n){const n=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});return(wi({x:e,y:t})||i)&&oi(this.dragContainerElement.getBoundingClientRect(),n)}return wi({x:e,y:t})||i}}class Ni{constructor(e,t){this.resizeContainerElement=e,this.minWidth=t}validateResize({rectangle:e}){return!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&oi(this.resizeContainerElement.getBoundingClientRect(),e)}}let $i=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new l.n,this.eventClicked=new l.n,this.eventTimesChanged=new l.n,this.beforeViewRender=new l.n,this.hourSegmentClicked=new l.n,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=di,this.trackByHourSegment=ui,this.trackByHour=hi,this.trackByWeekAllDayEvent=pi,this.trackByWeekTimeEvent=mi,this.trackByHourColumn=(e,t)=>t.hours[0]?t.hours[0].segments[0].date.toISOString():t,this.trackById=(e,t)=>t.id,this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&ai(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)}timeEventResizing(e,t){this.timeEventResizes.set(e.event,t);const n=new Map,i=[...this.events];this.timeEventResizes.forEach((e,t)=>{const s=this.getTimeEventResizedDates(t,e),r=Object.assign(Object.assign({},t),s);n.set(r,t);const a=i.indexOf(t);i[a]=r}),this.restoreOriginalEvents(i,n,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);const n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:_i.Resize})}}allDayEventResizeStarted(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}allDayEventResizing(e,t,n){const i=this.allDayEventResizes.get(e);if(void 0!==t.edges.left){const s=Math.round(+t.edges.left/n);e.offset=i.originalOffset+s,e.span=i.originalSpan-s}else if(void 0!==t.edges.right){const s=Math.round(+t.edges.right/n);e.span=i.originalSpan+s}}allDayEventResizeEnded(e){const t=this.allDayEventResizes.get(e);if(t){const n="left"===t.edge;let i;i=n?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;let s=e.event.start,r=e.event.end||e.event.start;n?s=bi(this.dateAdapter,s,i,this.excludeDays):r=bi(this.dateAdapter,r,i,this.excludeDays),this.eventTimesChanged.emit({newStart:s,newEnd:r,event:e.event,type:_i.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,t,n){!function(e,t,n,i){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==i||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)}(e,0,n,this.calendarId)||this.lastDragEnterDate.getTime()!==t.getTime()||this.snapDraggedEvents&&e.dropData.event===this.lastDraggedEvent||this.eventTimesChanged.emit({type:_i.Drop,event:e.dropData.event,newStart:t,allDay:n}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,t,n){this.dayColumnWidth=this.getDayColumnWidth(e);const i=new Yi(e,t);this.validateDrag=({x:e,y:t,transform:n})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&i.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:n}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(e=>{const t=e.events.find(e=>e.event===n.event&&e!==n);t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()}dragMove(e,t){const n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),i=e.event,s=Object.assign(Object.assign({},i),n),r=this.events.map(e=>e===i?s:e);this.restoreOriginalEvents(r,new Map([[s,i]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,t,n,i=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:r}=this.getDragMovedEventTimes(e,t,n,i);(this.snapDraggedEvents||this.eventDragEnterByType[i?"time":"allDay"]>0)&&function(e,t,n){const i=t||e;return n.start<=e&&e<=n.end||n.start<=i&&i<=n.end}(s,r,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:s,newEnd:r,event:e.event,type:_i.Drag,allDay:!i}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},yi(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},yi(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,t,n,i){const s=li(t.x,n)/n,r=i?vi(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,a=this.dateAdapter.addMinutes(bi(this.dateAdapter,e.event.start,s,this.excludeDays),r);let o;return e.event.end&&(o=this.dateAdapter.addMinutes(bi(this.dateAdapter,e.event.end,s,this.excludeDays),r)),{start:a,end:o}}restoreOriginalEvents(e,t,n=!0){const i=this.view;n&&(this.view=this.getWeekView(e));const s=e.filter(e=>t.has(e));this.view.hourColumns.forEach((e,r)=>{i.hourColumns[r].hours.forEach((t,n)=>{t.segments.forEach((t,i)=>{e.hours[n].segments[i].cssClass=t.cssClass})}),s.forEach(i=>{const s=t.get(i),r=e.events.find(e=>e.event===(n?i:s));r?(r.event=s,r.tempEvent=i,n||(r.height=0,r.width=0)):e.events.push({event:s,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:i})})}),t.clear()}getTimeEventResizedDates(e,t){const n=gi(this.hourSegments,i=this.hourSegmentHeight)*i;var i;const s={start:e.start,end:fi(this.dateAdapter,e,n)},r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(e,["end"]),a={start:this.dateAdapter.addMinutes(s.end,-1*n),end:fi(this.dateAdapter,r,n)};if(void 0!==t.edges.left){const e=Math.round(+t.edges.left/this.dayColumnWidth),n=bi(this.dateAdapter,s.start,e,this.excludeDays);s.start=n<a.start?n:a.start}else if(void 0!==t.edges.right){const e=Math.round(+t.edges.right/this.dayColumnWidth),n=bi(this.dateAdapter,s.end,e,this.excludeDays);s.end=n>a.end?n:a.end}if(void 0!==t.edges.top){const e=vi(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(s.start,e);s.start=n<a.start?n:a.start}else if(void 0!==t.edges.bottom){const e=vi(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(s.end,e);s.end=n>a.end?n:a.end}return s}resizeStarted(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);const n=new Ni(e,t);this.validateResize=({rectangle:e})=>n.validateResize({rectangle:e}),this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.h),l.Kb(ji),l.Kb(l.u),l.Kb(si))},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[l.vb],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,t){1&e&&(l.Rb(0,"div",0),l.Rb(1,"mwl-calendar-week-view-header",1),l.cc("dayHeaderClicked",function(e){return t.dayHeaderClicked.emit(e)})("eventDropped",function(e){return t.eventDropped({dropData:e},e.newStart,!0)})("dragEnter",function(e){return t.dateDragEnter(e.date)}),l.Qb(),l.Hc(2,Cn,6,5,"div",2),l.Rb(3,"div",3),l.cc("dragEnter",function(){return t.dragEnter("time")})("dragLeave",function(){return t.dragLeave("time")}),l.Hc(4,Sn,2,2,"div",4),l.Rb(5,"div",5,6),l.Hc(7,Ln,5,12,"div",7),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.xb(1),l.lc("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),l.xb(1),l.lc("ngIf",t.view.allDayEventRows.length>0),l.xb(2),l.lc("ngIf",t.view.hourColumns.length>0&&1!==t.daysInWeek),l.xb(1),l.Cb("cal-resize-active",t.timeEventResizes.size>0),l.xb(2),l.lc("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[Vi,s.n,ct,s.m,s.r,Ct,ot,s.l,Xi,kt,Ki,Ji,Ri]},encapsulation:2}),e=A([H(2,Object(l.p)(l.u)),_("design:paramtypes",[l.h,ji,String,si])],e),e})(),Vi=(()=>{let e=class{constructor(){this.dayHeaderClicked=new l.n,this.eventDropped=new l.n,this.dragEnter=new l.n,this.trackByWeekDayHeaderDate=di}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,t){if(1&e&&(l.Hc(0,Fn,2,2,"ng-template",null,0,l.Ic),l.Hc(2,Pn,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.uc(2,Wn,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.dragEnter,t.trackByWeekDayHeaderDate))}},directives:[s.r,s.m,ct,s.l,Ri],pipes:[Si],encapsulation:2}),e})(),Xi=(()=>{let e=class{constructor(){this.eventClicked=new l.n}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,t){if(1&e&&(l.Hc(0,Yn,6,26,"ng-template",null,0,l.Ic),l.Hc(2,Nn,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.wc(2,$n,[t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column,t.daysInWeek]))}},directives:[s.r,s.o,ii,Ri,Mi,ei,ti],pipes:[xi,Ai],encapsulation:2}),e})(),Ki=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(l.Hc(0,Xn,3,13,"ng-template",null,0,l.Ic),l.Hc(2,Kn,0,0,"ng-template",1)),2&e){const e=l.yc(1);l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.tc(2,Jn,t.segment,t.locale,t.segmentHeight,t.isTimeLabel,t.daysInWeek))}},directives:[s.r,s.l,s.n],pipes:[Ai,Si],encapsulation:2}),e})(),Ji=(()=>{let e=class{constructor(e,t){var n;this.dateAdapter=e,this.zone=t,this.columnDate$=new d.a(this.columnDate),this.marker$=this.zone.onStable.pipe(Object($.a)(()=>function(e=0,t=W.a){return(!Object(Q.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=W.a),new P.a(n=>(n.add(t.schedule(Y,e,{subscriber:n,counter:0,period:e})),n))}(6e4)),Object(V.a)(0),(n=this.columnDate$,Object($.a)(()=>n)),Object(u.a)(e=>{const t=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayStartHour),this.dayStartMinute),n=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayEndHour),this.dayEndMinute),i=this.hourSegments*this.hourSegmentHeight/60,s=new Date;return{isVisible:this.dateAdapter.isSameDay(e,s)&&s>=t&&s<=n,top:this.dateAdapter.differenceInMinutes(s,t)*i}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}};return e.\u0275fac=function(t){return new(t||e)(l.Kb(si),l.Kb(l.z))},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[l.vb],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,t){if(1&e&&(l.Hc(0,Gn,1,1,"ng-template",null,0,l.Ic),l.Hc(2,qn,0,0,"ng-template",1),l.fc(3,"async"),l.fc(4,"async")),2&e){const e=l.yc(1);let n=null;l.xb(2),l.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",l.vc(6,Zn,t.columnDate,t.dayStartHour,t.dayStartMinute,t.dayEndHour,t.dayEndMinute,null==(n=l.gc(3,2,t.marker$))?null:n.isVisible,null==(n=l.gc(4,4,t.marker$))?null:n.top))}},directives:[s.r,s.n],pipes:[s.b],encapsulation:2}),e=A([_("design:paramtypes",[si,l.z])],e),e})(),Ui=(()=>{let e=class{};return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.c,St,dt,Ii],St,dt]}),e})(),Gi=(()=>{let e=class{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new l.n,this.hourSegmentClicked=new l.n,this.eventTimesChanged=new l.n,this.beforeViewRender=new l.n}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,t){1&e&&(l.Rb(0,"mwl-calendar-week-view",0),l.cc("eventClicked",function(e){return t.eventClicked.emit(e)})("hourSegmentClicked",function(e){return t.hourSegmentClicked.emit(e)})("eventTimesChanged",function(e){return t.eventTimesChanged.emit(e)})("beforeViewRender",function(e){return t.beforeViewRender.emit(e)}),l.Qb()),2&e&&l.lc("daysInWeek",1)("viewDate",t.viewDate)("events",t.events)("hourSegments",t.hourSegments)("hourSegmentHeight",t.hourSegmentHeight)("dayStartHour",t.dayStartHour)("dayStartMinute",t.dayStartMinute)("dayEndHour",t.dayEndHour)("dayEndMinute",t.dayEndMinute)("refresh",t.refresh)("locale",t.locale)("eventSnapSize",t.eventSnapSize)("tooltipPlacement",t.tooltipPlacement)("tooltipTemplate",t.tooltipTemplate)("tooltipAppendToBody",t.tooltipAppendToBody)("tooltipDelay",t.tooltipDelay)("hourSegmentTemplate",t.hourSegmentTemplate)("eventTemplate",t.eventTemplate)("eventTitleTemplate",t.eventTitleTemplate)("eventActionsTemplate",t.eventActionsTemplate)("snapDraggedEvents",t.snapDraggedEvents)("allDayEventsLabelTemplate",t.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",t.currentTimeMarkerTemplate)},directives:[$i],encapsulation:2}),e})(),qi=(()=>{let e=class{};return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.c,Ii,Ui]]}),e})();var Zi;let es=(()=>{let e=Zi=class{static forRoot(e,t={}){return{ngModule:Zi,providers:[e,t.eventTitleFormatter||Oi,t.dateFormatter||ki,t.utils||ji,t.a11y||zi]}}};return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[Ii,Qi,Ui,qi],Ii,Qi,Ui,qi]}),e})();const ts=l.Ub(ki);var ns=n("DH7j"),is=n("yCtX"),ss=n("l7GE"),rs=n("ZUHj");class as{call(e,t){return t.subscribe(new os(e))}}class os extends ss.a{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){const t=e[n],i=Object(rs.a)(this,t,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}n("KqfI");var ls=n("Lhse"),cs=n("zx2A");function ds(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(is.a)(e,void 0).lift(new us(t))}class us{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new hs(e,this.resultSelector))}}class hs extends pe.a{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Object(ns.a)(e)?t.push(new ms(e)):t.push("function"==typeof e[ls.a]?new ps(e[ls.a]()):new gs(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let r=0;r<t;r++){let t=e[r];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const s=[];for(let r=0;r<t;r++){let t=e[r],a=t.next();if(t.hasCompleted()&&(i=!0),a.done)return void n.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class ps{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class ms{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[ls.a](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class gs extends cs.b{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ls.a](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return Object(cs.c)(this.observable,new cs.a(this))}}var vs=n("GyhO");function fs(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new bs(e,n))}}class bs{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new ys(e,this.observables,this.project))}}class ys extends ss.a{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let s=0;s<i;s++)this.toRespond.push(s);for(let s=0;s<i;s++){let e=t[s];this.add(Object(rs.a)(this,e,void 0,s))}}notifyNext(e,t,n){this.values[n]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const ws=["*"],Ds=["dialog"];function Es(e){return null!=e}function Cs(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const Ts={animation:!0,transitionTimerDelayMs:5};let ks=(()=>{class e{constructor(){this.animation=Ts.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(l.Gb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ss=()=>{},{transitionTimerDelayMs:Os}=Ts,xs=new Map,Rs=(e,t,n,i)=>{let s=i.context||{};const r=xs.get(t);if(r)switch(i.runningTransition){case"continue":return me.a;case"stop":e.run(()=>r.transition$.complete()),s=Object.assign(r.context,s),xs.delete(t)}const a=n(t,i.animation,s)||Ss;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>a()),Object(B.a)(void 0).pipe(function(e){return t=>new P.a(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())))}(e));const o=new j.a,l=new j.a,c=o.pipe(function(...e){return t=>Object(vs.a)(t,Object(B.a)(...e))}(!0));xs.set(t,{transition$:o,complete:()=>{l.next(),l.complete()},context:s});const d=function(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const n=Object(Te.a)(t,"transitionend").pipe(Object(N.a)(c),Object(Ve.a)(({target:e})=>e===t));(function(...e){if(1===e.length){if(!Object(ns.a)(e[0]))return e[0];e=e[0]}return Object(is.a)(e,void 0).lift(new as)})(Object(F.a)(d+Os).pipe(Object(N.a)(c)),n,l).pipe(Object(N.a)(c)).subscribe(()=>{xs.delete(t),e.run(()=>{a(),o.next(),o.complete()})})}),o.asObservable()};var Ms=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const js=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zs(e){const t=Array.from(e.querySelectorAll(js)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(i=this.offset(t,!1)),i.top+=t.clientTop,i.left+=t.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,s=window.pageXOffset-document.documentElement.clientLeft;let r={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+s,right:n.right+s};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(e,t,n,i){const[s="top",r="center"]=n.split("-"),a=i?this.offset(e,!1):this.position(e,!1),o=this.getAllStyles(t),l=parseFloat(o.marginTop),c=parseFloat(o.marginBottom),d=parseFloat(o.marginLeft),u=parseFloat(o.marginRight);let h=0,p=0;switch(s){case"top":h=a.top-(t.offsetHeight+l+c);break;case"bottom":h=a.top+a.height;break;case"left":p=a.left-(t.offsetWidth+d+u);break;case"right":p=a.left+a.width}switch(r){case"top":h=a.top;break;case"bottom":h=a.top+a.height-t.offsetHeight;break;case"left":p=a.left;break;case"right":p=a.left+a.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?p=a.left+a.width/2-t.offsetWidth/2:h=a.top+a.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(p)}px, ${Math.round(h)}px)`;const m=t.getBoundingClientRect(),g=document.documentElement,v=window.innerHeight||g.clientHeight,f=window.innerWidth||g.clientWidth;return m.left>=0&&m.top>=0&&m.right<=f&&m.bottom<=v}},new Date(1882,10,12),new Date(2174,10,25);let As=(()=>{class e{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(ks))},e.\u0275prov=Object(l.Gb)({factory:function(){return new e(Object(l.Zb)(ks))},token:e,providedIn:"root"}),e})();class Hs{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const _s=()=>{};let Is=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):_s}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=i+e+"px",()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(s.d))},e.\u0275prov=Object(l.Gb)({factory:function(){return new e(Object(l.Zb)(s.d))},token:e,providedIn:"root"}),e})(),Ls=(()=>{class e{constructor(e,t){this._el=e,this._zone=t}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(Je.a)(1)).subscribe(()=>{Rs(this._zone,this._el.nativeElement,(e,t)=>{t&&Cs(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Rs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(l.l),l.Kb(l.z))},e.\u0275cmp=l.Eb({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(l.zb("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),l.Cb("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class Bs{close(e){}dismiss(e){}}class Fs{constructor(e,t,n,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=i,this._closed=new j.a,this._dismissed=new j.a,this._hidden=new j.a,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(N.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(N.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(B.a)(void 0);e.subscribe(()=>{const{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ds(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ps=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let Ws=(()=>{class e{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new j.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.n,this.shown=new j.a,this.hidden=new j.a}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,t={animation:this.animation,runningTransition:"stop"},n=ds(Rs(this._zone,e,()=>e.classList.remove("show"),t),Rs(this._zone,this._dialogEl.nativeElement,()=>{},t));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const e={animation:this.animation,runningTransition:"continue"};ds(Rs(this._zone,this._elRef.nativeElement,(e,t)=>{t&&Cs(e),e.classList.add("show")},e),Rs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Object(Te.a)(e,"keydown").pipe(Object(N.a)(this._closed$),Object(Ve.a)(e=>e.which===Ms.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(Ps.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let t=!1;Object(Te.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(N.a)(this._closed$),Object(ut.a)(()=>t=!1),Object($.a)(()=>Object(Te.a)(e,"mouseup").pipe(Object(N.a)(this._closed$),Object(Je.a)(1))),Object(Ve.a)(({target:t})=>e===t)).subscribe(()=>{t=!0}),Object(Te.a)(e,"click").pipe(Object(N.a)(this._closed$)).subscribe(({target:n})=>{e===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||t||this._zone.run(()=>this.dismiss(Ps.BACKDROP_CLICK))),t=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=zs(e)[0];(t||n||e).focus()}}_restoreFocus(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Rs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(s.d),l.Kb(l.l),l.Kb(l.z))},e.\u0275cmp=l.Eb({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){if(1&e&&l.Ec(Ds,!0),2&e){let e;l.xc(e=l.dc())&&(t._dialogEl=e.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(l.yb("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),l.zb("modal d-block"+(t.windowClass?" "+t.windowClass:"")),l.Cb("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ws,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(l.kc(),l.Rb(0,"div",0,1),l.Rb(2,"div",2),l.jc(3),l.Qb(),l.Qb()),2&e&&l.zb("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),Qs=(()=>{class e{constructor(e,t,n,i,s,r){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=r,this._activeWindowCmptHasChanged=new j.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new l.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Object(Te.a)(t,"focusin").pipe(Object(N.a)(n),Object(u.a)(e=>e.target));Object(Te.a)(t,"keydown").pipe(Object(N.a)(n),Object(Ve.a)(e=>e.which===Ms.Tab),fs(e)).subscribe(([e,n])=>{const[i,s]=zs(t);n!==i&&n!==t||!e.shiftKey||(s.focus(),e.preventDefault()),n!==s||e.shiftKey||(i.focus(),e.preventDefault())}),i&&Object(Te.a)(t,"click").pipe(Object(N.a)(n),fs(e),Object(u.a)(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,i){const s=i.container instanceof HTMLElement?i.container:Es(i.container)?this._document.querySelector(i.container):this._document.body,r=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),o=()=>{this._modalRefs.length||(r.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const l=new Bs,c=this._getContentRef(e,i.injector||t,n,l,i);let d=!1!==i.backdrop?this._attachBackdrop(e,s):void 0,u=this._attachWindowComponent(e,s,c),h=new Fs(u,c,d,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(u),h.result.then(a,a),h.result.then(o,o),l.close=e=>{h.close(e)},l.dismiss=e=>{h.dismiss(e)},this._applyWindowOptions(u.instance,i),1===this._modalRefs.length&&r.addClass(this._document.body,"modal-open"),d&&d.instance&&this._applyBackdropOptions(d.instance,i),h}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(Ls).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let i=e.resolveComponentFactory(Ws).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{Es(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{Es(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,s){return n?n instanceof l.K?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,s):new Hs([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Hs([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(""+e);return new Hs([[t]])}_createFromComponent(e,t,n,i,s){const r=e.resolveComponentFactory(n),a=l.r.create({providers:[{provide:Bs,useValue:i}],parent:t}),o=r.create(a),c=o.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(o.hostView),new Hs([[c]],o.hostView,o)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(l.g),l.Zb(l.r),l.Zb(s.d),l.Zb(Is),l.Zb(l.E),l.Zb(l.z))},e.\u0275prov=Object(l.Gb)({factory:function(){return new e(Object(l.Zb)(l.g),Object(l.Zb)(l.o),Object(l.Zb)(s.d),Object(l.Zb)(Is),Object(l.Zb)(l.E),Object(l.Zb)(l.z))},token:e,providedIn:"root"}),e})(),Ys=(()=>{class e{constructor(e,t,n,i){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=i}open(e,t={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(l.j),l.Zb(l.r),l.Zb(Qs),l.Zb(As))},e.\u0275prov=Object(l.Gb)({factory:function(){return new e(Object(l.Zb)(l.j),Object(l.Zb)(l.o),Object(l.Zb)(Qs),Object(l.Zb)(As))},token:e,providedIn:"root"}),e})();function Ns(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-month-view",10),l.cc("dayClicked",function(t){return l.zc(e),l.ec().dayClicked(t.day)})("eventClicked",function(t){return l.zc(e),l.ec().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return l.zc(e),l.ec().eventTimesChanged(t)}),l.Qb()}if(2&e){const e=l.ec();l.lc("viewDate",e.viewDate)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function $s(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-week-view",11),l.cc("eventClicked",function(t){return l.zc(e),l.ec().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return l.zc(e),l.ec().eventTimesChanged(t)}),l.Qb()}if(2&e){const e=l.ec();l.lc("viewDate",e.viewDate)("refresh",e.refresh)}}function Vs(e,t){if(1&e){const e=l.Tb();l.Rb(0,"mwl-calendar-day-view",11),l.cc("eventClicked",function(t){return l.zc(e),l.ec().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return l.zc(e),l.ec().eventTimesChanged(t)}),l.Qb()}if(2&e){const e=l.ec();l.lc("viewDate",e.viewDate)("refresh",e.refresh)}}new l.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});const Xs={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}};let Ks=(()=>{class e{constructor(e){this.modal=e,this.view=ri.Month,this.CalendarView=ri,this.viewDate=new Date,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:e})=>{this.handleEvent("Edited",e)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:e})=>{this.events=this.events.filter(t=>t!==e),this.handleEvent("Deleted",e)}}],this.refresh=new j.a,this.events=[{start:E(C(new Date),1),end:D(new Date,1),title:"A 3 day event",color:Xs.red,actions:this.actions,allDay:!0,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{start:C(new Date),title:"An event with no end date",color:Xs.yellow,actions:this.actions},{start:E(T(new Date),3),end:D(T(new Date),3),title:"A long event that spans 2 months",color:Xs.blue,allDay:!0},{start:O(C(new Date),2),end:O(new Date,2),title:"A draggable and resizable event",color:Xs.yellow,actions:this.actions,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0}],this.activeDayIsOpen=!0}dayClicked({date:e,events:t}){x(e,this.viewDate)&&(this.activeDayIsOpen=!(R(this.viewDate,e)&&!0===this.activeDayIsOpen||0===t.length),this.viewDate=e),console.log("Hello World!")}eventTimesChanged({event:e,newStart:t,newEnd:n}){this.events=this.events.map(i=>i===e?Object.assign(Object.assign({},e),{start:t,end:n}):i),this.handleEvent("Dropped or resized",e)}handleEvent(e,t){this.modalData={event:t,action:e},this.modal.open(this.modalContent,{size:"lg"})}addEvent(){this.events=[...this.events,{title:"New event",start:C(new Date),end:M(new Date),color:Xs.red,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0}}]}deleteEvent(e){this.events=this.events.filter(t=>t!==e)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(Ys))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-demo"]],decls:29,vars:20,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","refresh","eventClicked","eventTimesChanged"]],template:function(e,t){1&e&&(l.Rb(0,"div",0),l.Rb(1,"div",1),l.Rb(2,"div",2),l.Rb(3,"div",3),l.cc("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),l.Jc(4," Previous "),l.Qb(),l.Rb(5,"div",4),l.cc("viewDateChange",function(e){return t.viewDate=e}),l.Jc(6," Today "),l.Qb(),l.Rb(7,"div",5),l.cc("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),l.Jc(8," Next "),l.Qb(),l.Qb(),l.Qb(),l.Rb(9,"div",1),l.Rb(10,"h3"),l.Jc(11),l.fc(12,"calendarDate"),l.Qb(),l.Qb(),l.Rb(13,"div",1),l.Rb(14,"div",2),l.Rb(15,"div",6),l.cc("click",function(){return t.setView(t.CalendarView.Month)}),l.Jc(16," Month "),l.Qb(),l.Rb(17,"div",6),l.cc("click",function(){return t.setView(t.CalendarView.Week)}),l.Jc(18," Week "),l.Qb(),l.Rb(19,"div",6),l.cc("click",function(){return t.setView(t.CalendarView.Day)}),l.Jc(20," Day "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Mb(21,"br"),l.Rb(22,"div",7),l.Hc(23,Ns,1,3,"mwl-calendar-month-view",8),l.Hc(24,$s,1,2,"mwl-calendar-week-view",9),l.Hc(25,Vs,1,2,"mwl-calendar-day-view",9),l.Qb(),l.Mb(26,"br"),l.Mb(27,"br"),l.Mb(28,"br")),2&e&&(l.xb(3),l.lc("view",t.view)("viewDate",t.viewDate),l.xb(2),l.lc("viewDate",t.viewDate),l.xb(2),l.lc("view",t.view)("viewDate",t.viewDate),l.xb(4),l.Kc(l.ic(12,16,t.viewDate,t.view+"ViewTitle","en")),l.xb(4),l.Cb("active",t.view===t.CalendarView.Month),l.xb(2),l.Cb("active",t.view===t.CalendarView.Week),l.xb(2),l.Cb("active",t.view===t.CalendarView.Day),l.xb(3),l.lc("ngSwitch",t.view),l.xb(1),l.lc("ngSwitchCase",t.CalendarView.Month),l.xb(1),l.lc("ngSwitchCase",t.CalendarView.Week),l.xb(1),l.lc("ngSwitchCase",t.CalendarView.Day))},directives:[Di,Ci,Ei,s.p,s.q,Li,$i,Gi],pipes:[Si],styles:["h3[_ngcontent-%COMP%]{margin:0 0 10px}pre[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:15px}"]}),e})(),Js=(()=>{class e{constructor(e){this.eventService=e,this.objEvent=new a,this.notifyCancel=new l.n,this.notifyCreate=new l.n,this.notifyUpdate=new l.n}ngOnInit(){}onSave(){0==this.objEvent.id?this.notifyCreate.emit(this.objEvent):this.notifyUpdate.emit(this.objEvent),this.objEvent=new a}onCancel(){this.objEvent=new a,this.notifyCancel.emit()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(p))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-event-form"]],inputs:{objEvent:"objEvent"},outputs:{notifyCancel:"notifyCancel",notifyCreate:"notifyCreate",notifyUpdate:"notifyUpdate"},decls:80,vars:10,consts:[[1,"from-group","row"],[1,"col-sm-12"],[1,"form-group","has-success","col-sm-6"],["for","inputAccountNo",1,"form-control-label"],["type","text","id","inputAccountNo","placeholder","Event Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","inputAccountNo","placeholder","Task Details","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","row"],[1,"form-group","has-success","col-sm-3"],["type","datetime-local","id","inputAccountNo","placeholder","Start Time","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","datetime-local","id","inputAccountNo","placeholder","End Time","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","low"],["value","medium"],["value","high"],["type","text","id","inputAccountNo","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","inputAccountNo","placeholder","Address","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","inputAccountNo","placeholder","Participant","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","every day"],["value","weekly"],["value","monthly"],["value","yes"],["value","no"],[1,"form-group","row","pull-right"],[1,"col-md-6"],[1,"form-group","has-success"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,t){1&e&&(l.Rb(0,"h3"),l.Rb(1,"u"),l.Jc(2," Add Event"),l.Qb(),l.Qb(),l.Rb(3,"div",0),l.Rb(4,"div",1),l.Rb(5,"div",2),l.Rb(6,"label",3),l.Jc(7,"Event Name"),l.Qb(),l.Rb(8,"input",4),l.cc("ngModelChange",function(e){return t.objEvent.eventName=e}),l.Qb(),l.Qb(),l.Rb(9,"div",2),l.Rb(10,"label",3),l.Jc(11,"Task Detail"),l.Qb(),l.Rb(12,"input",5),l.cc("ngModelChange",function(e){return t.objEvent.description=e}),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(13,"div",6),l.Rb(14,"div",1),l.Rb(15,"div",7),l.Rb(16,"label",3),l.Jc(17,"Start Time"),l.Qb(),l.Rb(18,"input",8),l.cc("ngModelChange",function(e){return t.objEvent.startTime=e}),l.Qb(),l.Qb(),l.Rb(19,"div",7),l.Rb(20,"label",3),l.Jc(21,"End Time"),l.Qb(),l.Rb(22,"input",9),l.cc("ngModelChange",function(e){return t.objEvent.endTime=e}),l.Qb(),l.Qb(),l.Rb(23,"div",7),l.Rb(24,"label",3),l.Jc(25,"Priority"),l.Qb(),l.Rb(26,"select",10),l.cc("ngModelChange",function(e){return t.objEvent.priority=e}),l.Rb(27,"option",11),l.Jc(28,"Select Priority"),l.Qb(),l.Rb(29,"option",12),l.Jc(30,"Low"),l.Qb(),l.Rb(31,"option",13),l.Jc(32,"Medium"),l.Qb(),l.Rb(33,"option",14),l.Jc(34,"High"),l.Qb(),l.Qb(),l.Qb(),l.Rb(35,"div",7),l.Rb(36,"label",3),l.Jc(37,"Contact"),l.Qb(),l.Rb(38,"input",15),l.cc("ngModelChange",function(e){return t.objEvent.contact=e}),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(39,"div",6),l.Rb(40,"div",1),l.Rb(41,"div",7),l.Rb(42,"label",3),l.Jc(43,"Address"),l.Qb(),l.Rb(44,"input",16),l.cc("ngModelChange",function(e){return t.objEvent.address=e}),l.Qb(),l.Qb(),l.Rb(45,"div",7),l.Rb(46,"label",3),l.Jc(47,"Participant"),l.Qb(),l.Rb(48,"input",17),l.cc("ngModelChange",function(e){return t.objEvent.participant=e}),l.Qb(),l.Qb(),l.Rb(49,"div",7),l.Rb(50,"label",3),l.Jc(51,"Remainder"),l.Qb(),l.Rb(52,"select",10),l.cc("ngModelChange",function(e){return t.objEvent.reminder=e}),l.Rb(53,"option",11),l.Jc(54,"Remainder"),l.Qb(),l.Rb(55,"option",18),l.Jc(56,"Every Day"),l.Qb(),l.Rb(57,"option",19),l.Jc(58,"Weekly"),l.Qb(),l.Rb(59,"option",20),l.Jc(60,"Monthly"),l.Qb(),l.Qb(),l.Qb(),l.Rb(61,"div",7),l.Rb(62,"label",3),l.Jc(63,"Repeat"),l.Qb(),l.Rb(64,"select",10),l.cc("ngModelChange",function(e){return t.objEvent.repeat=e}),l.Rb(65,"option",11),l.Jc(66,"Repeat Evey Day Or Not"),l.Qb(),l.Rb(67,"option",21),l.Jc(68,"Yes"),l.Qb(),l.Rb(69,"option",22),l.Jc(70,"No"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(71,"div",23),l.Rb(72,"div",24),l.Rb(73,"div",25),l.Rb(74,"button",26),l.cc("click",function(){return t.onSave()}),l.Jc(75,"Save"),l.Qb(),l.Qb(),l.Qb(),l.Rb(76,"div",24),l.Rb(77,"div",25),l.Rb(78,"button",26),l.cc("click",function(){return t.onCancel()}),l.Jc(79," Cancel "),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.xb(8),l.lc("ngModel",t.objEvent.eventName),l.xb(4),l.lc("ngModel",t.objEvent.description),l.xb(6),l.lc("ngModel",t.objEvent.startTime),l.xb(4),l.lc("ngModel",t.objEvent.endTime),l.xb(4),l.lc("ngModel",t.objEvent.priority),l.xb(12),l.lc("ngModel",t.objEvent.contact),l.xb(6),l.lc("ngModel",t.objEvent.address),l.xb(4),l.lc("ngModel",t.objEvent.participant),l.xb(4),l.lc("ngModel",t.objEvent.reminder),l.xb(12),l.lc("ngModel",t.objEvent.repeat))},directives:[i.a,i.i,i.l,i.o,i.p,i.m,i.r],styles:[".form-control[_ngcontent-%COMP%]:focus{border:2px solid #4d8f4f}"]}),e})();function Us(e,t){if(1&e){const e=l.Tb();l.Rb(0,"tr"),l.Rb(1,"td",2),l.Jc(2),l.Qb(),l.Rb(3,"td",2),l.Jc(4),l.fc(5,"date"),l.Qb(),l.Rb(6,"td",2),l.Jc(7),l.fc(8,"date"),l.Qb(),l.Rb(9,"td",2),l.Jc(10),l.Qb(),l.Rb(11,"td",2),l.Jc(12),l.Qb(),l.Rb(13,"td",2),l.Jc(14),l.Qb(),l.Rb(15,"td",4),l.Rb(16,"div",5),l.Rb(17,"button",6),l.cc("click",function(){l.zc(e);const n=t.$implicit;return l.ec().onSelect(n)}),l.Mb(18,"i",7),l.Qb(),l.Qb(),l.Rb(19,"div",5),l.Rb(20,"button",8),l.cc("click",function(){l.zc(e);const n=t.$implicit;return l.ec().onDelete(n)}),l.Mb(21,"i",9),l.Qb(),l.Qb(),l.Qb(),l.Qb()}if(2&e){const e=t.$implicit;l.xb(2),l.Lc(" ",e.eventName," "),l.xb(2),l.Lc(" ",l.hc(5,6,e.startTime,"medium")," "),l.xb(3),l.Lc(" ",l.hc(8,9,e.endTime,"medium")," "),l.xb(3),l.Lc(" ",e.priority," "),l.xb(2),l.Lc(" ",e.contact," "),l.xb(2),l.Lc(" ",e.address," ")}}let Gs=(()=>{class e{constructor(e){this.eventService=e,this.listchildevent=[],this.notifySelect=new l.n,this.notifyDelete=new l.n,this.notifyshowedit=new l.n}ngOnInit(){this.eventService.getAllEvents().subscribe(e=>{this.listchildevent=e,console.log(e)},e=>console.log(e))}onSelect(e){this.notifySelect.emit(e)}onDelete(e){this.notifyDelete.emit(e)}showedit(){this.notifyshowedit.emit()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(p))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-event-list"]],inputs:{listchildevent:"listchildevent"},outputs:{notifySelect:"notifySelect",notifyDelete:"notifyDelete",notifyshowedit:"notifyshowedit"},decls:23,vars:1,consts:[[1,"table-responsive","panel","panel-success",2,"border-color","rgb(65, 25, 117)"],["cellspacing","0",1,"table","table-striped","table-bordered"],[1,"text-center"],[4,"ngFor","ngForOf"],["data-toggle","tooltip","data-placement","","title","Edit The Event",1,"align-right","text-center"],[1,"btn-group"],["data-toggle","tooltip","data-placement","left","title","Edit The Event",1,"status-button","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o",2,"justify-content","space-around"],["data-toggle","tooltip","data-placement","left","title","Delete The Event",1,"status-button","btn-danger",3,"click"],[1,"fa","fa-trash-o"]],template:function(e,t){1&e&&(l.Rb(0,"h3"),l.Rb(1,"u"),l.Jc(2,"Event List"),l.Qb(),l.Qb(),l.Rb(3,"div",0),l.Rb(4,"table",1),l.Rb(5,"thead"),l.Rb(6,"tr"),l.Rb(7,"th",2),l.Jc(8,"Event Name"),l.Qb(),l.Rb(9,"th",2),l.Jc(10,"Start Time"),l.Qb(),l.Rb(11,"th",2),l.Jc(12,"End Time"),l.Qb(),l.Rb(13,"th",2),l.Jc(14,"Priority"),l.Qb(),l.Rb(15,"th",2),l.Jc(16,"Contact"),l.Qb(),l.Rb(17,"th",2),l.Jc(18,"Address"),l.Qb(),l.Rb(19,"th",2),l.Jc(20,"Action"),l.Qb(),l.Qb(),l.Qb(),l.Rb(21,"tbody"),l.Hc(22,Us,22,12,"tr",3),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.xb(22),l.lc("ngForOf",t.listchildevent))},directives:[s.m],pipes:[s.e],styles:["th[_ngcontent-%COMP%]{background-color:#3c8dbc;color:#fff}"]}),e})();function qs(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div"),l.Rb(1,"app-event-form",11),l.cc("notifyCreate",function(t){return l.zc(e),l.ec().onCreate(t)})("notifyUpdate",function(t){return l.zc(e),l.ec().Update(t)}),l.Qb(),l.Qb()}if(2&e){const e=l.ec();l.xb(1),l.lc("objEvent",e.objEvent)}}function Zs(e,t){if(1&e){const e=l.Tb();l.Rb(0,"div"),l.Rb(1,"app-event-list",12),l.cc("notifySelect",function(t){return l.zc(e),l.ec().onSelect(t)})("notifyDelete",function(t){return l.zc(e),l.ec().onDelete(t)}),l.Qb(),l.Qb()}if(2&e){const e=l.ec();l.xb(1),l.lc("listchildevent",e.listEvent)}}let er=(()=>{class e{constructor(e,t,n,i){this.route=e,this.router=t,this.eventService=n,this.toastr=i,this.activeCalendarId=1,this.listEvent=[],this.objEvent=a,this.listCalendar=[],this.subscription=o.a}onSelectCalendar(e){this.activeCalendarId=e,this.getEventData()}getEventData(){this.eventService.getAllEventsById(this.activeCalendarId).subscribe(e=>{this.listEvent=e,console.log(e)},e=>console.log(e)),this.objEvent=new a}ngOnInit(){this.getEventData()}onCreate(e){"undefined"!=this.objEvent.id&&0!=this.objEvent.id||(e.calendarId=this.activeCalendarId,this.eventService.create(e).subscribe(e=>{this.getEventData(),this.toastr.success("Event Add successfully","Message"),console.log("User Profile Data Saved")},e=>{console.log("User Profile Data could not be saved"),this.toastr.error("Error","Event Couldn't Save"),console.log(e)}))}Update(e){this.eventService.Update(e.id,e).subscribe(e=>{this.getEventData(),this.toastr.success("Event Update successfully","Message"),console.log("User Profil Data Updated")},e=>{this.toastr.success("Event cannot update successfully","Message"),console.log("User Profil Data could not be Updated"),console.log(e)})}onSelect(e){this.objEvent=e}onDelete(e){1==confirm("Do you want to delete ?")&&this.eventService.EventDelete(e.id).subscribe(t=>{this.getEventData(),this.toastr.success("Success","Record [ID:"+e.id+"] deleted successfully"),console.log("Event delete success")},e=>{this.getEventData(),console.log("Event delete error")})}onCancel(){this.newData()}ngOnDestroy(){}newData(){this.objEvent=new a}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(r.a),l.Kb(r.h),l.Kb(p),l.Kb(m.b))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-event-calendar"]],decls:19,vars:2,consts:[["tabsColor","#3c763d"],["header","Event List","tabColor","#3c763d"],[1,"row"],[1,"col-md-2"],[1,"card-header"],[1,"card-body"],[3,"notifyCalendar"],[1,"col-md-10"],[1,"col-md-12"],[4,"ngIf"],["header","Calendar View","tabColor","#3c763d"],[3,"objEvent","notifyCreate","notifyUpdate"],[3,"listchildevent","notifySelect","notifyDelete"]],template:function(e,t){1&e&&(l.Rb(0,"mk-tabs",0),l.Rb(1,"mk-tab",1),l.Rb(2,"div",2),l.Rb(3,"div",3),l.Mb(4,"div",4),l.Rb(5,"div",5),l.Rb(6,"div"),l.Rb(7,"app-calendar-list",6),l.cc("notifyCalendar",function(e){return t.onSelectCalendar(e)}),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(8,"div",7),l.Rb(9,"div",4),l.Rb(10,"div",2),l.Rb(11,"div",8),l.Mb(12,"div",4),l.Rb(13,"div",5),l.Hc(14,qs,2,1,"div",9),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(15,"div",5),l.Hc(16,Zs,2,1,"div",9),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(17,"mk-tab",10),l.Mb(18,"app-demo"),l.Qb(),l.Qb()),2&e&&(l.xb(14),l.lc("ngIf",t.objEvent),l.xb(2),l.lc("ngIf",t.listEvent))},directives:[g.S,g.P,f,s.n,Ks,Js,Gs],styles:[""]}),e})();const tr=[{path:"",component:er}];let nr=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(tr)],r.j]}),e})();function ir(e,t){y(2,arguments);var n=b(t);return k(e,6e4*n)}function sr(e,t){y(2,arguments);var n=b(t);return k(e,1e3*n)}function rr(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ar=864e5;function or(e,t){y(2,arguments);var n=C(e),i=C(t),s=n.getTime()-rr(n),r=i.getTime()-rr(i);return Math.round((s-r)/ar)}function lr(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function cr(e,t){y(2,arguments);var n=w(e),i=w(t),s=lr(n,i),r=Math.abs(or(n,i));n.setDate(n.getDate()-s*r);var a=lr(n,i)===-s,o=s*(r-a);return 0===o?0:o}function dr(e,t){y(2,arguments);var n=w(e),i=w(t);return n.getTime()-i.getTime()}function ur(e,t){y(2,arguments);var n=dr(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}function hr(e,t){y(2,arguments);var n=dr(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function pr(e,t){y(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,r=null==s?0:b(s),a=null==n.weekStartsOn?r:b(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=w(e),l=o.getDay(),c=6+(l<a?-7:0)-(l-a);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function mr(e){y(1,arguments);var t=w(e),n=t.getDay();return n}function gr(e){y(1,arguments);var t=w(e),n=t.getMonth();return n}function vr(e){y(1,arguments);var t=w(e);return t.setMilliseconds(0),t}function fr(e,t){y(2,arguments);var n=vr(e),i=vr(t);return n.getTime()===i.getTime()}function br(e){var t,n;if(y(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=w(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}function yr(e,t){y(2,arguments);var n=w(e),i=b(t);return n.setHours(i),n}function wr(e,t){y(2,arguments);var n=w(e),i=b(t);return n.setMinutes(i),n}function Dr(e){y(1,arguments);var t=w(e);return t.setSeconds(0,0),t}function Er(e){y(1,arguments);var t=w(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Cr(e,t){y(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,r=null==s?0:b(s),a=null==n.weekStartsOn?r:b(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=w(e),l=o.getDay(),c=(l<a?7:0)+l-a;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Tr(e){y(1,arguments);var t=w(e),n=t.getHours();return n}function kr(e){y(1,arguments);var t=w(e),n=t.getMinutes();return n}function Sr(e,t){y(2,arguments);var n=b(t),i=7*n;return D(e,i)}function Or(e,t){y(2,arguments);var n=w(e),i=b(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var s=n.getDate(),r=new Date(n.getTime());r.setMonth(n.getMonth()+i+1,0);var a=r.getDate();return s>=a?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function xr(e,t){y(2,arguments);var n=b(t);return Sr(e,-n)}function Rr(e,t){y(2,arguments);var n=b(t);return Or(e,-n)}function Mr(e){return y(1,arguments),Cr(e,{weekStartsOn:1})}function jr(e){y(1,arguments);var t=w(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var s=Mr(i),r=new Date(0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);var a=Mr(r);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function zr(e){y(1,arguments);var t=jr(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var i=Mr(n);return i}var Ar=6048e5;function Hr(e){y(1,arguments);var t=w(e),n=Mr(t).getTime()-zr(t).getTime();return Math.round(n/Ar)+1}function _r(e,t){y(2,arguments);var n=w(e),i=b(t);return n.setDate(i),n}function Ir(e){y(1,arguments);var t=w(e),n=t.getFullYear(),i=t.getMonth(),s=new Date(0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Lr(e,t){y(2,arguments);var n=w(e),i=b(t),s=n.getFullYear(),r=n.getDate(),a=new Date(0);a.setFullYear(s,i,15),a.setHours(0,0,0,0);var o=Ir(a);return n.setMonth(i,Math.min(r,o)),n}function Br(e,t){y(2,arguments);var n=w(e),i=b(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(i),n)}function Fr(e){y(1,arguments);var t=w(e),n=t.getDate();return n}function Pr(e){y(1,arguments);var t=w(e),n=t.getFullYear();return n}function Wr(){return z(z({},{addDays:D,addHours:O,addMinutes:ir,addSeconds:sr,differenceInDays:cr,differenceInMinutes:ur,differenceInSeconds:hr,endOfDay:M,endOfMonth:T,endOfWeek:pr,getDay:mr,getMonth:gr,isSameDay:R,isSameMonth:x,isSameSecond:fr,max:br,setHours:yr,setMinutes:wr,startOfDay:C,startOfMinute:Dr,startOfMonth:Er,startOfWeek:Cr,getHours:Tr,getMinutes:kr}),{addWeeks:Sr,addMonths:Or,subDays:E,subWeeks:xr,subMonths:Rr,getISOWeek:Hr,setDate:_r,setMonth:Lr,setYear:Br,getDate:Fr,getYear:Pr})}let Qr=(()=>{class e{}return e.\u0275mod=l.Ib({type:e,bootstrap:[er]}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[nr,i.e,g.U,s.c,es.forRoot({provide:si,useFactory:Wr})]]}),e})()},Y7HM:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("DH7j");function s(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("HDdC"),s=n("DH7j"),r=n("n6bG"),a=n("lJxs");function o(e,t,n,c){return Object(r.a)(n)&&(c=n,n=void 0),c?o(e,t,n).pipe(Object(a.a)(e=>Object(s.a)(e)?c(...e):c(e))):new i.a(i=>{l(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function l(e,t,n,i,s){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,s),r=()=>i.removeEventListener(t,n,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),r=()=>i.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,n),r=()=>i.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,a=e.length;r<a;r++)l(e[r],t,n,i,s)}i.add(r)}}}]);